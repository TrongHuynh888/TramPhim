/* ============================================
   RESPONSIVE.CSS - FINAL FIX (BANNER, FOOTER, POPUP)
   ============================================ */

/* 1. TABLET (iPad) */
@media (max-width: 1366px) {
  .nav-container,
  .section,
  .footer-content {
    padding-left: 20px !important;
    padding-right: 20px !important;
  }

  /* --- FIX POPUP CHO TABLET (iPad) --- */
  /* ·∫®n popup hover m·∫∑c ƒë·ªãnh (ƒë·ªÉ d√πng click) */
  .movie-card-wrapper .movie-popup-nfx {
    display: none !important;
  }

  /* Class k√≠ch ho·∫°t popup khi ch·∫°m */
  .movie-card-wrapper.active-mobile {
    z-index: 5000 !important;
    position: relative;
  }

  .movie-card-wrapper.active-mobile .movie-popup-nfx {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important; /* Cho ph√©p b·∫•m v√†o n√∫t trong popup */
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);

    /* K√≠ch th∆∞·ªõc cho Tablet (R·ªông h∆°n Mobile x√≠u) */
    width: 240px !important;
    height: auto;
    z-index: 5001;
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.95);
    border: 1px solid var(--accent-primary);
    background: #1f1f2e !important;
    color: #fff !important;
  }

  /* Font ch·ªØ Popup Tablet */
  .movie-card-wrapper.active-mobile .popup-header-img {
    height: 130px;
  }
  .movie-card-wrapper.active-mobile .popup-body {
    padding: 12px;
  }
  .movie-card-wrapper.active-mobile .popup-title-new {
    font-size: 15px;
    margin-bottom: 6px;
    line-height: 1.3;
    color: #ffeb3b !important;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
    font-weight: 800 !important;
  }
  .movie-card-wrapper.active-mobile .popup-meta-row {
    font-size: 11px;
    gap: 6px;
    margin-bottom: 10px;
  }
  .movie-card-wrapper.active-mobile .popup-meta-row span {
    color: #0fceeb !important;
  }
  .movie-card-wrapper.active-mobile .btn-popup-play {
    font-size: 13px !important;
    padding: 8px 15px;
    height: 34px;
  }
  .movie-card-wrapper.active-mobile .btn-popup-icon {
    width: 34px;
    height: 34px;
    font-size: 13px;
    background: rgba(255, 255, 255, 0.15) !important;
    color: #fff !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
  }
  .movie-card-wrapper.active-mobile .popup-genres-row {
    display: none;
  }
}

/* 2. MOBILE (ƒêi·ªán tho·∫°i) */
@media (max-width: 768px) {
  :root {
    --font-hero: 28px;
    --font-xxl: 20px;
    --font-xl: 18px;
  }

  /* --- A. HEADER (FIX M√ÄU N√öT & HI·ªÜN ICON THEME) --- */
  /* --- A. HEADER (FIX LIGHT MODE: ICON T·ª∞ ƒê·ªîI M√ÄU) --- */
  /* --- A. HEADER (FINAL: FIX L·ªñI CH·ªíNG ICON) --- */
  .nav-container {
    padding: 5px 8px !important;
    gap: 4px;
    height: 60px;
    z-index: 2000;
    justify-content: space-between !important;
    background: var(--bg-primary) !important;
  }

  /* 1. Logo */
  .nav-logo {
    display: flex !important;
    align-items: center;
    gap: 4px;
    flex: 1; /* T·ª± ƒë·ªông chi·∫øm kho·∫£ng tr·ªëng th·ª´a b√™n tr√°i */
    min-width: 0;
    margin-right: 5px;
  }
  .nav-logo i {
    font-size: 18px !important;
    color: #e50914 !important;
    flex-shrink: 0;
  }
  .nav-logo span {
    display: block !important;
    font-size: 13px !important;
    font-weight: 700 !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--text-primary) !important;
  }

  /* 2. Nh√≥m n√∫t b√™n ph·∫£i (Ch·ª©a t·∫•t c·∫£ icon) */
  .nav-actions {
    display: flex !important; /* B·∫ÆT BU·ªòC FLEX */
    align-items: center !important;
    gap: 6px !important;
    flex-shrink: 0; /* Kh√¥ng cho ph√©p co l·∫°i */
    flex-wrap: nowrap !important; /* Kh√¥ng bao gi·ªù ƒë∆∞·ª£c xu·ªëng d√≤ng */
  }

  /* üëá [FIX QUAN TR·ªåNG] H·ªôp ch·ª©a Login + Avatar ph·∫£i l√† h√†ng ngang */
  #authContainer {
    display: flex !important;
    align-items: center !important;
    flex-direction: row !important;
    gap: 6px !important; /* Kho·∫£ng c√°ch gi·ªØa n√∫t Login v√† Avatar */
  }

  /* 3. C√°c n√∫t Icon th∆∞·ªùng (V√≠, Theme, Menu) */
  .wallet-btn,
  #connectWalletBtn,
  .theme-toggle,
  .mobile-menu-toggle {
    width: 30px !important;
    height: 30px !important;
    padding: 0 !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center;
    justify-content: center;
    font-size: 0 !important;
    background: rgba(128, 128, 128, 0.15) !important;
    border: 1px solid rgba(128, 128, 128, 0.1) !important;
    color: var(--text-primary) !important;
    flex-shrink: 0 !important; /* Kh√¥ng b·ªã b·∫πp */
  }
  .wallet-btn i,
  #connectWalletBtn i,
  .theme-toggle i,
  .mobile-menu-toggle i {
    margin: 0 !important;
    font-size: 14px !important;
    color: var(--text-primary) !important;
    display: block !important;
  }
  .wallet-btn span {
    display: none !important;
  }

  /* 4. LOGIC X·ª¨ L√ù N√öT ƒêƒÇNG NH·∫¨P */
  /* Tr∆∞·ªùng h·ª£p 1: Ch∆∞a ƒëƒÉng nh·∫≠p */
  #loginBtn {
    width: auto !important;
    height: 30px !important;
    padding: 0 12px !important;
    border-radius: 15px !important;
    display: flex !important;
    align-items: center;
    gap: 5px;
    background: linear-gradient(135deg, #e50914 0%, #ff0055 100%) !important;
    box-shadow: 0 2px 10px rgba(229, 9, 20, 0.4);
    border: none !important;
    white-space: nowrap !important;
  }
  #loginBtn i {
    font-size: 12px !important;
    margin: 0 !important;
    color: #fff !important;
  }
  #loginBtn span {
    display: block !important;
    font-size: 10px !important;
    font-weight: 700;
    color: #fff !important;
    text-transform: uppercase;
  }

  /* Tr∆∞·ªùng h·ª£p 2: ƒê√£ ƒëƒÉng nh·∫≠p (Avatar hi·ªán) */
  #authContainer:has(#userMenuTrigger:not(.hidden)) #loginBtn {
    width: 30px !important;
    height: 30px !important;
    padding: 0 !important;
    border-radius: 50% !important;
    justify-content: center !important;
    background: linear-gradient(135deg, #e50914 0%, #ff0055 100%) !important;
    display: flex !important;
    margin-right: 0 !important;
  }
  #authContainer:has(#userMenuTrigger:not(.hidden)) #loginBtn span {
    display: none !important;
  }
  #authContainer:has(#userMenuTrigger:not(.hidden)) #loginBtn i {
    margin: 0 !important;
    font-size: 14px !important;
  }

  /* 5. AVATAR USER */
  #userMenuTrigger {
    width: 30px !important;
    height: 30px !important;
    border-radius: 50% !important;
    overflow: hidden;
    border: 1.5px solid #f02c3c !important;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #000;
    flex-shrink: 0 !important;
  }
  .nav-user-avatar,
  #userMenuTrigger img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
  }

  /* 6. Menu tr∆∞·ª£t */
  .nav-menu {
    position: fixed;
    top: 60px;
    right: 0;
    width: 100%;
    height: calc(100vh - 60px);
    background: var(--bg-primary);
    flex-direction: column;
    padding-top: 20px;
    transform: translateX(100%);
    transition: transform 0.3s ease;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    z-index: 1999;
    visibility: hidden;
  }
  .nav-menu.active {
    transform: translateX(0);
    visibility: visible;
  }
  .nav-link {
    width: 100%;
    padding: 15px 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  /* --- B. FIX L·ªñI BANNER (Thu g·ªçn l·∫°i) --- */
  .hero {
    min-height: auto !important;
    padding: 65px 15px 30px !important; /* Gi·∫£m padding cho g·ªçn */
    /* üëá Th√™m 2 d√≤ng n√†y ƒë·ªÉ cƒÉn gi·ªØa n·ªôi dung theo chi·ªÅu d·ªçc n·∫øu banner th·∫•p */
    display: flex !important;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  .hero-content {
    margin-top: 0 !important;
    width: 100%;
    text-align: center; /* CƒÉn gi·ªØa n·ªôi dung */
  }
  /* Thu nh·ªè ch·ªØ ti√™u ƒë·ªÅ v√† m√¥ t·∫£ */
  .hero-title {
    font-size: 22px !important; /* Ch·ªØ nh·ªè l·∫°i */
    margin-bottom: 5px !important;
    line-height: 1.2 !important;
  }
  .hero-subtitle {
    font-size: 12px !important;
    margin-bottom: 15px !important;
    /* C·∫Øt b·ªõt n·∫øu d√†i qu√° 2 d√≤ng */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  /* Thu nh·ªè n√∫t b·∫•m */
  .hero-actions .btn {
    padding: 8px 16px !important;
    font-size: 12px !important;
    height: 36px !important;
  }
  /* --- C. FIX L·ªñI FOOTER (G·ªåN G√ÄNG 2 C·ªòT) --- */
  .footer {
    padding: 20px 0 10px !important; /* Gi·∫£m kho·∫£ng c√°ch tr√™n d∆∞·ªõi */
  }

  .footer-content {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important; /* Chia th√†nh 2 c·ªôt ƒë·ªÅu nhau */
    gap: 15px !important;
    padding: 0 15px !important;
  }

  /* Logo & Gi·ªõi thi·ªáu: N·∫±m tr√™n c√πng, chi·∫øm tr·ªçn b·ªÅ ngang */
  .footer-section:nth-child(1) {
    grid-column: span 2;
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    padding-bottom: 10px !important;
    margin-bottom: 0 !important;
  }
  /* ·∫®n d√≤ng m√¥ t·∫£ d√†i d√≤ng ƒëi cho g·ªçn */
  .footer-section:nth-child(1) p {
    display: none;
  }

  /* Ph·∫ßn Th·ªëng k√™: N·∫±m d∆∞·ªõi c√πng, chi·∫øm tr·ªçn b·ªÅ ngang */
  .stats-box {
    grid-column: span 2;
    margin-top: 0 !important;
    padding: 10px !important;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
  }

  /* Ch·ªânh font ch·ªØ footer nh·ªè l·∫°i */
  .footer-section h4 {
    font-size: 14px !important;
    margin-bottom: 10px !important;
  }
  .footer-section ul li {
    margin-bottom: 5px !important;
  }
  .footer-section ul li a {
    font-size: 12px !important;
  }

  /* --- C.5 FIX TRANG CHI TI·∫æT PHIM (MOVIE DETAIL PAGE) --- */
  .movie-detail {
    padding: 55px 12px 30px !important; /* Gi·∫£m padding tr√™n d∆∞·ªõi */
  }

  .movie-detail-header {
    display: grid !important;
    grid-template-columns: 1fr !important; /* ƒê·ªïi th√†nh 1 c·ªôt tr√™n mobile */
    gap: var(--spacing-md) !important; /* Gi·∫£m kho·∫£ng c√°ch */
    margin-bottom: var(--spacing-lg) !important;
  }

  .movie-poster {
    max-width: 100%;
    height: auto;
    margin: 0 auto;
  }

  .movie-poster img {
    width: 100%;
    height: auto;
    max-height: 400px;
    object-fit: cover;
  }

  .movie-info h1 {
    font-size: 20px !important; /* Gi·∫£m ƒë·ªô l·ªõn ti√™u ƒë·ªÅ */
    margin-bottom: 10px !important;
    margin-top: 5px;
  }

  .movie-meta {
    gap: 8px !important;
    margin-bottom: 10px !important;
    flex-wrap: wrap;
  }

  .movie-meta-item {
    font-size: 12px !important;
    gap: 4px !important;
  }

  .movie-meta-item i {
    font-size: 13px !important;
  }

  .movie-description {
    font-size: 13px !important;
    line-height: 1.6;
    margin-bottom: 15px !important;
  }

  .card-tags {
    gap: 5px !important;
    margin-bottom: 10px !important;
  }

  .card-tags .tag {
    font-size: 11px !important;
    padding: 4px 8px !important;
  }

  .movie-actions {
    flex-direction: column !important;
    gap: 8px !important;
  }

  .card-price {
    font-size: 18px !important;
  }

  .btn-lg {
    width: 100% !important;
    padding: 10px 15px !important;
    font-size: 14px !important;
  }

  /* Video player & Episodes */
  .video-container {
    margin-top: 20px !important;
  }

  .episodes-section {
    margin-top: 15px !important;
  }

  .episodes-list {
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)) !important;
    gap: 6px !important;
  }

  .episode-item {
    padding: 6px !important;
    font-size: 11px !important;
  }

  /* Comment Form & Rating Section */
  .comment-form {
    padding: 12px !important;
  }

  .rating-input {
    display: flex !important;
    flex-wrap: wrap !important; /* Cho ph√©p xu·ªëng d√≤ng */
    align-items: flex-start !important;
    gap: 6px !important;
    margin-bottom: 12px !important;
  }

  .rating-input label {
    width: 100%;
    display: block !important;
    margin-bottom: 6px !important;
    font-size: 13px !important;
  }

  .rating-stars {
    display: flex !important;
    flex-wrap: wrap !important; /* Cho ph√©p sao xu·ªëng d√≤ng */
    gap: 3px !important;
    order: 3; /* ƒê·ªÉ sao n·∫±m d∆∞·ªõi label */
  }

  .rating-stars i {
    font-size: 18px !important;
    margin: 0 !important;
  }

  .rating-value {
    font-size: 13px !important;
    margin-left: 0 !important;
    white-space: nowrap;
    order: 4;
    width: 100%;
    margin-top: 6px;
  }

  .comment-form .form-group {
    margin-bottom: 10px !important;
  }

  .form-textarea {
    font-size: 13px !important;
    min-height: 80px !important;
    padding: 8px !important;
  }

  /* --- D. L∆Ø·ªöI PHIM 4 C·ªòT --- */
  .movie-grid {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 6px !important;
  }
  .card-body {
    padding: 4px !important;
  }
  .card-title {
    font-size: 10px !important;
    margin-bottom: 2px !important;
  }
  .card-meta {
    font-size: 9px !important;
  }

  /* --- E. FIX POPUP TO QU√Å (Thu nh·ªè & Tinh ch·ªânh) --- */
  .movie-card-wrapper .movie-popup-nfx {
    display: none !important;
  }

  .movie-card-wrapper.active-mobile {
    z-index: 5000 !important;
    position: relative;
  }

  .movie-card-wrapper.active-mobile .movie-popup-nfx {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);

    /* üëá GI·∫¢M K√çCH TH∆Ø·ªöC POPUP */
    width: 225px !important;
    height: auto;
    z-index: 5001;
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.95);
    border: 1px solid var(--accent-primary);
    /* üëá QUAN TR·ªåNG: √âp n·ªÅn m√†u t·ªëi ƒë·ªÉ ch·ªØ tr·∫Øng lu√¥n n·ªïi b·∫≠t */
    background: #1f1f2e !important;
    color: #fff !important;
  }

  /* Font ch·ªØ Popup nh·ªè l·∫°i */
  .movie-card-wrapper.active-mobile .popup-header-img {
    height: 110px;
  }
  .movie-card-wrapper.active-mobile .popup-body {
    padding: 8px;
  }
  .movie-card-wrapper.active-mobile .popup-title-new {
    font-size: 13px;
    margin-bottom: 4px;
    line-height: 1.3;
  }
  .movie-card-wrapper.active-mobile .popup-meta-row {
    font-size: 9px;
    gap: 4px;
    margin-bottom: 6px;
  }
  .movie-card-wrapper.active-mobile .btn-popup-play {
    font-size: 11px !important;
    padding: 5px 10px;
    height: 28px;
  }
  .movie-card-wrapper.active-mobile .btn-popup-icon {
    width: 28px;
    height: 28px;
    font-size: 10px;
  }

  /* ·∫®n b·ªõt th√¥ng tin kh√¥ng c·∫ßn thi·∫øt tr√™n mobile cho g·ªçn */
  .movie-card-wrapper.active-mobile .popup-genres-row {
    display: none;
  }

  /* --- F. FIX POPUP B·ªä CHE M√âP --- */
  .movie-grid
    .movie-card-wrapper:nth-child(4n + 1).active-mobile
    .movie-popup-nfx {
    left: 0 !important;
    right: auto !important;
    transform: none !important;
  }
  .movie-grid .movie-card-wrapper:nth-child(4n).active-mobile .movie-popup-nfx {
    left: auto !important;
    right: 0 !important;
    transform: none !important;
  }
  .movie-grid
    .movie-card-wrapper:nth-child(4n + 2).active-mobile
    .movie-popup-nfx {
    transform: translateX(-35%) !important;
  }
  .movie-grid
    .movie-card-wrapper:nth-child(4n + 3).active-mobile
    .movie-popup-nfx {
    transform: translateX(-65%) !important;
  }

  /* Fix Admin Sidebar */
  .admin-sidebar {
    position: fixed !important;
    top: 0;
    left: -100% !important;
    width: 260px !important;
    height: 100vh;
    z-index: 6000;
    transition: left 0.3s;
    background: #1a1a2e;
  }
  .admin-sidebar.active {
    left: 0 !important;
  }
  .admin-content {
    margin-left: 0 !important;
    padding: 15px;
  }
  #adminSidebarOverlay {
    z-index: 5999 !important;
  }
  /* --- G. FIX L·ªñI GIAO DI·ªÜN LIGHT MODE & TH·ªÇ LO·∫†I (M·ªöI) --- */

  /* 1. Fix Ti√™u ƒë·ªÅ phim kh√≥ ƒë·ªçc ·ªü Light Mode */
  [data-theme="light"] .card-title {
    color: #efef0f !important; /* Chuy·ªÉn th√†nh m√†u ƒëen ƒë·∫≠m */
    font-weight: 700 !important;
  }
  [data-theme="light"] .card-meta {
    color: #555 !important; /* M√†u ph·ª• chuy·ªÉn th√†nh x√°m ƒë·∫≠m */
  }
  /* L√†m n·ªÅn th·∫ª phim ·ªü Lightmode s√°ng h∆°n ch√∫t ƒë·ªÉ t√°ch bi·ªát */
  [data-theme="light"] .movie-card-static {
    background: #fff !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  /* 2. Fix Th·∫ª Th·ªÉ Lo·∫°i b·ªã k√©o d√†i (D√πng selector m·∫°nh ƒë·ªÉ √©p v·ªÅ 2 c·ªôt) */
  div#categoriesList {
    grid-template-columns: repeat(2, 1fr) !important; /* √âP C·ª®NG 2 C·ªòT */
    gap: 12px !important;
    display: grid !important;
  }

  /* Reset th·∫ª th·ªÉ lo·∫°i ƒë·ªÉ n√≥ n·∫±m ngang (d·∫°ng vi√™n thu·ªëc), kh√¥ng b·ªã d√†i th√≤ng */
  div#categoriesList .category-card-pro {
    width: 100% !important;
    aspect-ratio: 2.5 / 1 !important; /* T·ªâ l·ªá ch·ªØ nh·∫≠t ngang (R·ªông 2.5 : Cao 1) */
    min-height: unset !important;
    height: auto !important;
    padding: 10px !important;

    /* Flex ƒë·ªÉ icon v√† ch·ªØ n·∫±m ngang */
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: flex-start !important;
  }

  /* Ch·ªânh n·ªôi dung b√™n trong n·∫±m ngang */
  div#categoriesList .cat-content {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    text-align: left !important;
    width: 100%;
    gap: 10px !important;
  }

  /* Icon nh·ªè l·∫°i v√† n·∫±m b√™n tr√°i */
  div#categoriesList .cat-icon-box {
    width: 32px !important;
    height: 32px !important;
    margin-bottom: 0 !important; /* B·ªè margin d∆∞·ªõi c≈© */
    flex-shrink: 0;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  div#categoriesList .cat-icon-box i {
    font-size: 14px !important;
  }

  /* Ch·ªØ ti√™u ƒë·ªÅ n·∫±m b√™n ph·∫£i icon */
  div#categoriesList .cat-title {
    font-size: 13px !important;
    margin: 0 !important;
    text-transform: uppercase;
    font-weight: 800;
    line-height: 1.2;
    width: auto !important;
  }

  /* ·∫®n d√≤ng ph·ª• 'Kh√°m ph√° ngay' cho g·ªçn */
  div#categoriesList .cat-subtitle {
    display: none !important;
  }
  /* --- G. FIX GIAO DI·ªÜN LIGHT MODE & POPUP (FINAL) --- */

  /* 1. TH·∫∫ PHIM ·ªû NGO√ÄI (N·ªÅn tr·∫Øng -> Ch·ªØ ƒêen) */
  [data-theme="light"] .card-title {
    color: #ffeb3b !important; /* M√†u ƒëen tuy·ªÅn cho d·ªÖ ƒë·ªçc */
    font-weight: 700 !important;
  }
  [data-theme="light"] .card-meta {
    color: #ec3434 !important;
    font-weight: 600 !important;
  }
  [data-theme="light"] .movie-card-static {
    background: #fff !important;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    border: 1px solid #ddd !important;
  }

  /* 2. POPUP CHI TI·∫æT (Lu√¥n n·ªÅn t·ªëi -> Ch·ªØ V√†ng) */
  .movie-card-wrapper.active-mobile .movie-popup-nfx {
    background: #1f1f2e !important; /* Lu√¥n gi·ªØ n·ªÅn t·ªëi cho d·ªãu m·∫Øt */
    color: #fff !important;
    border: 1px solid var(--accent-primary) !important;
  }

  /* üëá TI√äU ƒê·ªÄ TRONG POPUP: M√ÄU V√ÄNG R·ª∞C R·ª† */
  .movie-card-wrapper.active-mobile .popup-title-new {
    color: #ffeb3b !important; /* M√†u v√†ng chanh si√™u n·ªïi */
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8); /* B√≥ng ƒëen gi√∫p ch·ªØ c√†ng n·ªïi h∆°n */
    font-weight: 800 !important;
  }

  /* C√°c th√¥ng s·ªë kh√°c trong Popup (NƒÉm, Th·ªùi l∆∞·ª£ng...) m√†u tr·∫Øng s√°ng */
  .movie-card-wrapper.active-mobile .popup-meta-row span {
    color: #0fceeb !important;
  }

  /* Fix l·∫°i c√°c n√∫t tr√≤n trong popup cho d·ªÖ nh√¨n */
  .movie-card-wrapper.active-mobile .btn-popup-icon {
    background: rgba(255, 255, 255, 0.15) !important;
    color: #fff !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
  }
  /* --- I. FIX MENU USER (V11 - T√ÅCH BI·ªÜT S·ªê D∆Ø V√Ä N√öT N·∫†P) --- */

  /* 1. KHUNG MENU (N·ªÅn ƒêen chu·∫©n Dark Mode) */
  [data-theme="light"] .user-dropdown,
  [data-theme="light"] .profile-dropdown,
  [data-theme="light"] #userMenu,
  [data-theme="light"] #userDropdown {
    background-color: #1f1f2e !important;
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
    color: #ffffff !important;
  }

  /* 2. [QUAN TR·ªåNG] RESET "S·ªê D∆Ø 0 C" V·ªÄ TRONG SU·ªêT */
  /* T√¨m t·∫•t c·∫£ th·∫ª span/div ch·ª©a s·ªë d∆∞ v√† x√≥a n·ªÅn tr·∫Øng ƒëi */
  [data-theme="light"] .user-dropdown span,
  [data-theme="light"] .user-dropdown div,
  [data-theme="light"] .user-dropdown b,
  [data-theme="light"] .user-dropdown strong {
    background-color: transparent !important; /* X√≥a n·ªÅn tr·∫Øng sai */
    color: #ffffff !important; /* Ch·ªØ tr·∫Øng */
    border: none !important;
    box-shadow: none !important;
  }

  /* 3. [QUAN TR·ªåNG] CH·ªà T√î N·ªÄN TR·∫ÆNG CHO N√öT LINK "N·∫†P" */
  /* Ch·ªâ t√°c ƒë·ªông v√†o th·∫ª a (ƒë∆∞·ªùng d·∫´n) ho·∫∑c button nh·ªè */
  [data-theme="light"] .user-dropdown a:not(.btn-block):not(.w-full),
  [data-theme="light"] .user-dropdown button.btn-sm {
    background-color: #ffffff !important; /* üëâ N·ªÅn TR·∫ÆNG */
    color: #0ea5e9 !important; /* üëâ Ch·ªØ XANH (Blue) */

    border-radius: 50px !important;
    padding: 4px 12px !important; /* TƒÉng padding ch√∫t cho ƒë·∫πp */
    font-size: 11px !important;
    font-weight: 800 !important;
    margin-left: 10px !important;
    display: inline-block !important;
    text-decoration: none !important;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
    border: none !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* 4. KH√îI PH·ª§C N√öT TO "N√ÇNG C·∫§P NGAY" (M√†u ƒë·ªè) */
  [data-theme="light"] .user-dropdown button.w-full,
  [data-theme="light"] .user-dropdown .btn-block {
    background: linear-gradient(135deg, #e50914 0%, #ff0055 100%) !important;
    color: #ffffff !important;
    box-shadow: 0 4px 15px rgba(229, 9, 20, 0.3) !important;
    border: none !important;
  }

  /* 5. TAG VIP (V√†ng) */
  [data-theme="light"] .user-dropdown .vip-tag,
  [data-theme="light"] .user-dropdown span.vip-tag {
    background: #ffeb3b !important; /* M√†u v√†ng */
    color: #000 !important; /* Ch·ªØ ƒëen */
  }

  /* 6. DARK MODE (Gi·ªØ nguy√™n) */
  [data-theme="dark"] .user-dropdown,
  [data-theme="dark"] .profile-dropdown {
    background-color: #1f1f2e !important;
    color: #ffffff !important;
  }
}

/* L√†m g·ªçn hi·ªÉn th·ªã b√¨nh lu·∫≠n tr√™n mobile */
.comment-item {
  padding: 10px 8px !important;
  gap: 8px !important;
  border-radius: 10px !important;
  min-height: unset !important;
}
.comment-avatar {
  width: 32px !important;
  height: 32px !important;
  font-size: 15px !important;
  border-radius: 50% !important;
}
.comment-content {
  font-size: 13px !important;
}
.comment-header {
  flex-direction: column !important;
  align-items: flex-start !important;
  gap: 2px !important;
  margin-bottom: 2px !important;
}
.comment-author {
  font-size: 13px !important;
  font-weight: 700 !important;
}
.comment-rating {
  font-size: 12px !important;
  gap: 2px !important;
  margin-top: 0 !important;
}
.comment-text {
  font-size: 13px !important;
  margin-bottom: 2px !important;
  line-height: 1.5 !important;
}
.comment-time {
  font-size: 11px !important;
  color: #aaa !important;
  margin-bottom: 2px !important;
}
.comment-actions {
  margin-top: 4px !important;
  display: flex !important;
  justify-content: flex-start !important;
}

/* ============================================
   FIX L·ªñI CH√ÇN TRANG & TH·ªêNG K√ä LIGHT MODE (GLOBAL - PC & MOBILE)
   ============================================ */

/* 1. ƒê·ªïi m√†u khung th·ªëng k√™ sang x√°m nh·∫°t ƒë·ªÉ n·ªïi b·∫≠t tr√™n n·ªÅn tr·∫Øng */
[data-theme="light"] .stats-box {
  background: #f3f4f6 !important;
  border: 1px solid #d1d5db !important;
}

/* 2. ƒê·ªïi m√†u ch·ªØ "ƒêang Online", "T·ªïng truy c·∫≠p"... sang m√†u ƒëen */
[data-theme="light"] .stat-label {
  color: #374151 !important;
}

/* 3. ƒê·ªïi m√†u CON S·ªê (174, 15 ph√∫t...) sang m√†u ƒëen ƒë·∫≠m */
[data-theme="light"] .stat-value {
  color: #000000 !important;
  font-weight: 800 !important;
}

/* 4. ƒê·ªïi m√†u c√°c Icon trong th·ªëng k√™ sang m√†u ƒê·ªè cho ƒë·∫πp */
[data-theme="light"] .stats-box i {
  color: #e50914 !important;
}

/* 5. Ti·ªán th·ªÉ s·ª≠a lu√¥n m√†u ti√™u ƒë·ªÅ Footer (Kh√°m Ph√°, H·ªó Tr·ª£...) sang ƒëen */
[data-theme="light"] .footer-section h4 {
  color: #111 !important;
}
/* S·ª≠a m√†u c√°c ƒë∆∞·ªùng link b√™n d∆∞·ªõi */
[data-theme="light"] .footer-section ul li a {
  color: #555 !important;
}
/* --- HI·ªÜU ·ª®NG AVATAR KHI N√ìI (VOICE CHAT) --- */
.is-speaking .avatar-img {
  border: 3px solid #2ecc71 !important; /* Vi·ªÅn xanh l√° */
  box-shadow: 0 0 15px #2ecc71 !important; /* Ph√°t s√°ng */
  transform: scale(1.1); /* Ph√≥ng to nh·∫π */
  transition: all 0.1s ease-in-out; /* Hi·ªáu ·ª©ng m∆∞·ª£t */
  z-index: 10;
}

/* Hi·ªáu ·ª©ng rung nh·∫π cho c·∫£ d√≤ng th√†nh vi√™n */
.member-item.is-speaking {
  background-color: rgba(46, 204, 113, 0.1);
  border-radius: 8px;
}
