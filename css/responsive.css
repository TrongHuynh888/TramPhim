/* Ch·ªëng tr√†n ngang tuy·ªát ƒë·ªëi cho to√†n trang web */
html, body {
  max-width: 100vw !important;
  overflow-x: hidden !important;
  position: relative;
}
body, .page, .section, .hero-banner, .movie-grid, .footer, main {
  max-width: 100vw !important;
}
/* ============================================
   RESPONSIVE.CSS - FINAL FIX (BANNER, FOOTER, POPUP)
   ============================================ */
/* --- FIX L·ªñI 2 TRANG ƒê√à NHAU (QUAN TR·ªåNG) --- */
.hidden {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  width: 0 !important;
  pointer-events: none !important;
}

/* FIX GLOBAL: N√öT ƒêƒÇNG NH·∫¨P KH√îNG B·ªä CH√àN √âP */
#loginBtn {
  white-space: nowrap !important;
  flex-shrink: 0 !important;
  min-width: 100px !important;
  padding: 8px 16px !important;
  overflow: visible !important;
}
#loginBtn span {
  white-space: nowrap !important;
}
.nav-actions {
  flex-shrink: 0 !important;
  flex-wrap: nowrap !important;
  gap: 8px !important;
}
.nav-menu {
  flex-shrink: 1 !important; /* Menu co l·∫°i khi thi·∫øu ch·ªó */
  min-width: 0 !important;
  gap: 4px !important;
}
.nav-menu .nav-link {
  white-space: nowrap !important;
  padding: 6px 8px !important;
  font-size: 13px !important;
}

/* 1. TABLET (iPad) */
@media (max-width: 1366px) {
  .nav-container,
  .section,
  .footer-content {
    padding-left: 20px !important;
    padding-right: 20px !important;
  }

  /* Banner Slider Tablet */
  .hero-banner {
    aspect-ratio: 16 / 9 !important;
    max-height: 70vh !important;
    margin-top: 80px !important;
  }
  .banner-content {
    left: 30px !important;
    bottom: 60px !important;
    max-width: 500px !important;
  }
  .banner-title {
    font-size: clamp(24px, 3.5vw, 40px) !important;
  }
  .banner-thumbs {
    display: none !important; /* ·∫®n thumbnails tr√™n tablet */
  }

  /* --- FIX POPUP D√ÄNH CHO C·∫¢ MOBILE (<768PX) & TABLET (769-1366PX) --- */
  /* ·∫®n popup hover m·∫∑c ƒë·ªãnh (ƒë·ªÉ d√πng click) */
  .movie-card-wrapper .movie-popup-nfx {
    display: none !important;
  }

    /* Class k√≠ch ho·∫°t popup khi ch·∫°m */
    .movie-card-wrapper.active-mobile {
      z-index: 1500 !important; /* H·∫° xu·ªëng d∆∞·ªõi Navbar (2000) ƒë·ªÉ kh√¥ng che Menu */
      position: relative;
    }

    .movie-card-wrapper.active-mobile .movie-popup-nfx {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      pointer-events: auto !important;
      position: absolute;
      top: 50%; /* CƒÉn gi·ªØa d·ªçc ƒë·ªÉ ƒë√® ƒë·ªÅu l√™n xu·ªëng */
      left: 50%;
      transform: translate(-50%, -50%) scale(1.05) !important; /* Scale nh·∫π l·∫°i cho ƒë·ª° th√¥ */

      /* K√≠ch th∆∞·ªõc Tablet & Mobile (Mobile s·∫Ω b·ªã override ·ªü d∆∞·ªõi) */
      width: 330px !important; 
      max-width: 90vw !important;
      max-height: 90vh !important;
      z-index: 950 !important;
      /* üëá KH·ª¨ B√ìNG ƒê·ªî THEO Y√äU C·∫¶U: ƒê·∫∑t v·ªÅ none ƒë·ªÉ tr√°nh hi·ªán b√≥ng ƒëen d∆∞·ªõi ƒë√°y */
      box-shadow: none !important;
      border: 1px solid var(--accent-primary);
      background: #1f1f2e !important;
      color: #fff !important;
      border-radius: 12px !important; /* √âP BO G√ìC CHU·∫®N: ƒê·∫£m b·∫£o ƒë·ªìng b·ªô cho t·∫•t c·∫£ popup */
      overflow: hidden !important; /* QUAN TR·ªåNG: ƒê·ªÉ ·∫£nh header bo theo khung kh√¥ng b·ªã tr√†n c·∫°nh */
      opacity: 1 !important;
      visibility: visible !important;
    }

    /* ·∫®N TH·∫∫ PHIM G·ªêC KHI POPUP ACTIVE ƒê·ªÇ TR√ÅNH L·ªò C·∫†NH */
    .movie-card-wrapper.active-mobile .movie-card-static,
    .movie-card-wrapper.active-mobile .landscape-img-container,
    .movie-card-wrapper.active-mobile .landscape-info {
        opacity: 0 !important;
        pointer-events: none !important;
    }

    /* FIX L·ªñI MENU B·ªä CHE: ƒê·∫£m b·∫£o Navbar lu√¥n ·ªü tr√™n l·ªõp popup active */
    .navbar {
        z-index: 3000 !important;
    }

    /* FIX STACKING CONTEXT & OVERFLOW: N√¢ng section ch·ª©a popup l√™n cao nh·∫•t v√† kh√¥ng c·∫Øt popup */
    .section-active-popup {
        z-index: 1600 !important;
        position: relative !important;
        overflow: visible !important; /* Quan tr·ªçng: Kh√¥ng c·∫Øt popup n·∫øu n√≥ tr√†n ra ngo√†i card */
    }


    /* Font ch·ªØ Popup Tablet */
    .movie-card-wrapper.active-mobile .popup-header-img {
      height: 200px !important; /* TƒÉng chi·ªÅu cao ·∫£nh tr√™n tablet ƒë·ªÉ khoe background ƒë·∫πp */
    }
    .movie-card-wrapper.active-mobile .popup-body {
      padding: 15px 20px !important; /* N·ªõi l·ªèng padding cho tho√°ng */
    }
    .movie-card-wrapper.active-mobile .popup-title-new {
      font-size: 18px !important; /* C√¢n ƒë·ªëi l·∫°i c·ª° ch·ªØ ti√™u ƒë·ªÅ */
      margin-bottom: 8px !important;
      line-height: 1.2 !important;
      color: #ffeb3b !important;
      font-weight: 700 !important;
    }
    .movie-card-wrapper.active-mobile .popup-actions {
      margin-bottom: 12px !important;
    }
    /* Hi·ªáu ·ª©ng ch·ªØ ch·∫°y (Marquee) v√≤ng tu·∫ßn ho√†n v√¥ t·∫≠n - News Ticker Style */
    @keyframes marquee-infinite {
      0% { transform: translateX(0); } 
      100% { transform: translateX(-100%); /* Ch·∫°y h·∫øt 100% chi·ªÅu d√†i block con */ }
    }
    
    .movie-card-wrapper.active-mobile .popup-meta-row {
      display: flex !important;
      font-size: 13px !important; /* TƒÉng c·ª° ch·ªØ meta tr√™n tablet cho d·ªÖ ƒë·ªçc */
      margin-bottom: 8px !important; /* Kho·∫£ng c√°ch d·ªçc ƒë·ªÅu h∆°n */
      flex-wrap: nowrap !important; 
      overflow: hidden; 
      width: 100% !important;
      gap: 10px !important; /* TƒÉng kho·∫£ng c√°ch gi·ªØa c√°c tag */
      padding-left: 0 !important; /* Lo·∫°i b·ªè th·ª•t l·ªÅ d∆∞ th·ª´a ƒë·ªÉ canh ƒë·ªÅu l·ªÅ tr√°i 20px chung */
    }

    .movie-card-wrapper.active-mobile .marquee-content {
      display: flex !important;
      flex-shrink: 0;
      gap: 12px; /* Kho·∫£ng c√°ch gi·ªØa c√°c nh√£n con */
      padding-right: 40px; 
      animation: none !important; /* M·∫∑c ƒë·ªãnh kh√¥ng ch·∫°y (cho Tablet) */
    }

    .movie-card-wrapper.active-mobile .marquee-duplicate {
      display: none !important; /* ·∫®n b·∫£n sao tr√™n Tablet */
    }
    
    .movie-card-wrapper.active-mobile .marquee-content span {
       white-space: nowrap !important;
       color: #0fceeb !important;
    }
    
    /* Tr√™n Tablet, kh√¥ng c·∫ßn fade m·ªù v√¨ ch·ªØ ƒë√£ hi·ªÉn th·ªã ƒë·ªß */
    .movie-card-wrapper.active-mobile .popup-body {
      overflow: hidden; 
      mask-image: none !important;
      -webkit-mask-image: none !important;
    }

    .movie-card-wrapper.active-mobile .btn-popup-play {
      font-size: 13px !important;
      padding: 6px 12px;
      height: 36px;
    }
    .movie-card-wrapper.active-mobile .btn-popup-icon {
      width: 36px;
      height: 36px;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.15) !important;
      color: #fff !important;
      border: 1px solid rgba(255, 255, 255, 0.3) !important;
    }

    /* --- FIX L·ªñI CH√åM ƒê√ÅY B·ªä C·∫ÆT CH·ªÆ TR√äN BƒÇNG CHUY·ªÄN --- */
    .country-movies-row {
        padding-bottom: 200px !important; /* T·∫°o th√™m v√πng kh√¥ng gian b√™n d∆∞·ªõi ƒë·ªÉ popup r∆°i xu·ªëng m√† kh√¥ng b·ªã c·∫Øt */
        margin-bottom: -160px !important; /* Tri·ªát ti√™u v√πng kh√¥ng gian d∆∞ th·ª´a, gi·ªØ nguy√™n b·ªë c·ª•c t·ªïng th·ªÉ */
    }

    /* --- TABLET: LANDSCAPE MOVIE CARD POPUP (16:9) --- */
    .movie-card-landscape.active-mobile .movie-popup-nfx {
        width: 340px !important; /* Thu nh·ªè m·∫°nh m·∫Ω h∆°n n·ªØa ƒë·ªÉ v·ª´a kh√≠t tuy·ªát ƒë·ªëi v·ªõi 3 n√∫t */
    }
    .movie-card-landscape.active-mobile .popup-title-main {
        font-size: 20px !important;
        color: #ffeb3b !important;
    }
    .movie-card-landscape.active-mobile .popup-genres-text {
        font-size: 14px !important;
        color: #ccc !important;
        padding-bottom: 5px !important; /* ƒê·ªám nh·∫π m√©p d∆∞·ªõi ƒë·ªÉ text kh√¥ng s√°t vi·ªÅn */
    }
    .movie-card-landscape.active-mobile .btn-play-pink {
        font-size: 14px !important; /* H·∫° xu·ªëng 14px ƒë·ªÉ c·∫£ 3 n√∫t ƒë·ªìng b·ªô */
        padding: 9px 5px !important; /* T·ªëi ∆∞u ƒë·ªám n√∫t */
        flex: 1 !important; /* Chia ƒë·ªÅu kh√¥ng gian */
        justify-content: center !important;
        white-space: nowrap !important; /* NgƒÉn ch·ªØ r·ªõt d√≤ng l√†m n√∫t b·ªã to ra */
    }
    .movie-card-landscape.active-mobile .btn-action-glass {
        padding: 9px 5px !important; /* T·ªëi ∆∞u ƒë·ªám n√∫t */
        font-size: 14px !important; /* Thu g·ªçn ch·ªØ n√∫t */
        flex: 1 !important; /* Chia ƒë·ªÅu kh√¥ng gian */
        justify-content: center !important;
        white-space: nowrap !important; /* NgƒÉn ph√¢n m·∫£nh ch·ªØ */
    }
    .movie-card-landscape.active-mobile .badge-item {
        font-size: 14px !important;
        padding: 4px 10px !important;
    }

    .movie-card-landscape.active-mobile .popup-body {
        padding: 15px !important; /* ƒê·∫£m b·∫£o l·ªÅ tr√°i v√† l·ªÅ ph·∫£i ƒë·ªÅu ƒë·∫∑n 15px */
    }
    .movie-card-landscape.active-mobile .popup-actions {
        gap: 8px !important; /* K√©o 3 n√∫t s√°t l·∫°i ƒë·ªÉ v·ª´a v·∫∑n trong 340px */
        margin-top: 15px !important;
        flex-wrap: nowrap !important;
        justify-content: center !important; /* CƒÉn gi·ªØa 3 n√∫t ƒë·ªÉ kho·∫£ng tr·ªëng 2 b√™n ƒë·ªÅu nhau tuy·ªát ƒë·ªëi */
    }
    
    /* --- SMART POSITIONING (X·ª¨ L√ù TR√ÄN M√ÄN H√åNH) --- */
    /* 1. M·ªü sang ph·∫£i (Khi th·∫ª ·ªü l·ªÅ tr√°i) */
    .movie-card-wrapper.active-mobile.popup-align-left .movie-popup-nfx {
        left: 15px !important; /* TƒÇNG L√äN 15PX: ƒê·∫£m b·∫£o kho·∫£ng c√°ch an to√†n tuy·ªát ƒë·ªëi v·ªõi l·ªÅ tr√°i */
        transform: translateY(-50%) scale(1) !important; /* KH·ª¨ SCALE 1.05: Tr√°nh vi·ªác n·ªü ra l·∫•n ng∆∞·ª£c v√†o l·ªÅ */
        transform-origin: left center;
    }

    /* 2. M·ªü sang tr√°i (Khi th·∫ª ·ªü l·ªÅ ph·∫£i) */
    .movie-card-wrapper.active-mobile.popup-align-right .movie-popup-nfx {
        left: auto !important;
        right: 15px !important; /* TƒÇNG L√äN 15PX ƒë·ªÉ c√¢n x·ª©ng */
        transform: translateY(-50%) scale(1) !important;
        transform-origin: right center;
    }
    
    .movie-card-wrapper.active-mobile .popup-genres-row {
      display: flex !important;
      font-size: 14px !important; /* C·ª° ch·ªØ trung gian gi·ªØa Ti√™u ƒë·ªÅ v√† Meta */
      margin-top: 0 !important;
      margin-bottom: 4px !important;
      align-items: center;
      flex-wrap: nowrap !important;
      overflow: hidden;
      white-space: nowrap;
    }
    .movie-card-wrapper.active-mobile .popup-genres-row .desktop-genres {
      display: none !important; /* ·∫®n th·ªÉ lo·∫°i d√†i tr√™n PC */
    }
    .movie-card-wrapper.active-mobile .popup-genres-row .mobile-genres {
      display: inline-block !important; /* Hi·ªán th·ªÉ lo·∫°i ng·∫Øn tr√™n Mobile */
    }
    .movie-card-wrapper.active-mobile .popup-genres-row .popup-country {
      text-overflow: ellipsis;
      overflow: hidden;
    }

    /* --- B·ªé TRI·ªÜT ƒê·ªÇ OVERFLOW VISIBLE PH√Å V·ª† SCROLL --- */
    /* Padding/margin hacks from layout.css already handle clipping. Do not override them with visible, which expands viewport to 2000px+ */
  /* END FIX POPUP MOBILE/TABLET */
  
  /* FIX MENU TABLET: Scroll ngang m∆∞·ª£t m√† */
  .nav-menu {
    overflow-x: auto !important;
    overflow-y: hidden !important;
    white-space: nowrap !important;
    justify-content: flex-start !important;
    min-width: 0 !important;
    padding-bottom: 0 !important; /* B·ªè padding bottom th·ª´a */
    padding-right: 60px !important; /* TƒÉng padding ƒë·ªÉ n√∫t Admin kh√¥ng b·ªã che */
    /* mask-image removed ƒë·ªÉ tr√°nh l·ªói ·∫©n icon cu·ªëi c√πng */
    
    /* ·∫®n thanh cu·ªôn nh∆∞ng v·∫´n scroll ƒë∆∞·ª£c (UX hi·ªán ƒë·∫°i) */
    scrollbar-width: none; 
    -ms-overflow-style: none;
    
    /* Fix click issue on tablet */
    position: relative;
    z-index: 2000 !important;
  }
  .nav-menu::-webkit-scrollbar {
    display: none;
  }
  .nav-menu .nav-link {
    flex-shrink: 0 !important;
  }

  /* FIX PADDING CHO TABLET: Tr√°nh b·ªã che header v√† full chi·ªÅu cao */
  /* Ch·ªâ √°p d·ª•ng cho Tablet th·ª±c s·ª± (>768px), KH√îNG ·∫£nh h∆∞·ªüng mobile */
  @media (min-width: 769px) {
    .page {
      min-height: 80vh !important;
      padding-top: 100px !important;
    }
  }
  
  /* Ri√™ng Tablet d·ªçc (iPad Portrait) c·∫ßn padding ƒë√∫ng 100px */
  @media (min-width: 769px) and (orientation: portrait) {
    .page {
      padding-top: 100px !important;
    }
    .footer {
      margin-top: auto !important;
    }
  }
}

/* --- REDESIGN LOGIN BUTTON (GLOBAL) --- */
/* Quay v·ªÅ style g·ªëc (Gradient) nh∆∞ng bo tr√≤n v√† ƒë·∫£m b·∫£o kh√¥ng b·ªã m√©o */
#loginBtn {
  border-radius: 50px !important; /* Bo tr√≤n vi√™n thu·ªëc */
  white-space: nowrap !important;
  flex-shrink: 0 !important;
  box-shadow: 0 0 15px rgba(229, 9, 20, 0.4) !important; /* B√≥ng ƒë·ªè nh·∫π ƒë√∫ng style */
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}
#loginBtn span {
  white-space: nowrap !important;
  font-weight: 600 !important;
}

/* 2. MOBILE (ƒêi·ªán tho·∫°i) */
@media (max-width: 768px) {
  :root {
    --font-hero: 28px;
    --font-xxl: 20px;
    --font-xl: 18px;
  }

  /* --- A. HEADER (FIX M√ÄU N√öT & HI·ªÜN ICON THEME) --- */
  /* --- A. HEADER (FIX LIGHT MODE: ICON T·ª∞ ƒê·ªîI M√ÄU) --- */
  /* --- A. HEADER (FINAL: FIX L·ªñI CH·ªíNG ICON) --- */
  .nav-container {
    padding: 5px 8px !important;
    gap: 4px;
    height: 70px;
    z-index: 2000;
    justify-content: space-between !important;
    background: var(--bg-primary) !important;
  }

  /* FIX PADDING PAGE MOBILE (Tr√°nh kho·∫£ng ƒëen th·ª´a do rule tablet 100px) */
  .page {
    padding-top: 80px !important;
    min-height: 100vh !important;
    background: var(--bg-primary) !important;
  }

  /* 1. Logo */
  .nav-logo {
    display: flex !important;
    align-items: center;
    gap: 4px;
    flex: 1; /* T·ª± ƒë·ªông chi·∫øm kho·∫£ng tr·ªëng th·ª´a */
    min-width: 0;
    margin-right: 5px;
    justify-content: flex-start !important;
  }
  .nav-logo .logo-img {
    height: 50px; /* Reset to safe mobile size */
    width: auto;
    object-fit: contain;
    max-width: 150px;
  }

  /* 2. Nh√≥m n√∫t b√™n ph·∫£i (Ch·ª©a t·∫•t c·∫£ icon) */
  #sidebarToggleBtn {
    width: 32px !important;
    height: 32px !important;
    margin-right: 5px !important; 
    font-size: 14px !important;
    background: rgba(128, 128, 128, 0.15) !important;
    border: 1px solid rgba(128, 128, 128, 0.1) !important;
  }
  
  /* [NEW] ·∫®n n√∫t 3 g·∫°ch (sidebar toggle) khi ·ªü Admin tr√™n Mobile */
  /* Ch·ªâ ·∫©n n√∫t m·ªü sidebar b√™n tr√°i logo, gi·ªØ l·∫°i n√∫t menu b√™n ph·∫£i */
  body.admin-mode #sidebarToggleBtn,
  .admin-mode #sidebarToggleBtn {
    display: none !important;
    visibility: hidden !important;
    width: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }
  
  #sidebarToggleBtn i {
    font-size: 14px !important;
  }

  .nav-actions {
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    flex-shrink: 0;
    flex-wrap: nowrap !important;
  }
  .nav-utilities {
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    flex-shrink: 0 !important;
  }

  /* üëá [FIX QUAN TR·ªåNG] H·ªôp ch·ª©a Login + Avatar ph·∫£i l√† h√†ng ngang */
  #authContainer {
    display: flex !important;
    align-items: center !important;
    flex-direction: row !important;
    gap: 8px !important;
    margin: 0 !important;
  }

  .wallet-btn,
  #connectWalletBtn,
  .theme-toggle,
  .notification-btn,
  .mobile-menu-toggle {
    width: 32px !important;
    height: 32px !important;
    padding: 0 !important;
    margin: 0 !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center;
    justify-content: center;
    font-size: 0 !important;
    background: rgba(128, 128, 128, 0.15) !important;
    border: 1px solid rgba(128, 128, 128, 0.1) !important;
    color: var(--text-primary) !important;
    flex-shrink: 0 !important;
  }
  .wallet-btn i,
  #connectWalletBtn i,
  .theme-toggle i,
  .notification-btn i,
  .mobile-menu-toggle i {
    margin: 0 !important;
    font-size: 14px !important;
    color: var(--text-primary) !important;
    display: block !important;
  }
  .wallet-btn span,
  .wallet-btn .wallet-btn-text,
  #connectWalletBtn span {
    display: none !important;
  }

  /* Notification wrapper mobile */
  .notification-wrapper {
    margin-right: 0 !important;
  }
  /* Notification dropdown mobile - full width */
  .notification-dropdown {
    position: fixed !important;
    top: 70px !important;
    left: 8px !important;
    right: 8px !important;
    width: auto !important;
    max-height: 70vh !important;
    border-radius: 12px !important;
  }
  .notification-dropdown::before {
    display: none !important;
  }

  /* FIX: Dropdown (Select) kh√¥ng b·ªã tr√†n m√†n h√¨nh */
  .form-select {
    max-width: 100% !important;
    white-space: nowrap;
    
    /* Cho ph√©p cu·ªôn ngang n·∫øu ch·ªØ qu√° d√†i thay v√¨ c·∫Øt b·ªõt */
    overflow-x: auto !important; 
    text-overflow: unset !important;
  }
  
  /* 4. LOGIC X·ª¨ L√ù N√öT ƒêƒÇNG NH·∫¨P */
  /* Mobile: N√∫t login lu√¥n hi·ªán d·∫°ng icon tr√≤n (k·ªÉ c·∫£ khi ƒë√£ ƒëƒÉng nh·∫≠p) */
  #loginBtn {
    width: 32px !important;
    height: 32px !important;
    padding: 0 !important;
    border-radius: 50% !important;
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #007aff 0%, #4db8ff 100%) !important;
    box-shadow: 0 2px 10px rgba(0, 122, 255, 0.4);
    border: none !important;
    min-width: unset !important;
    order: -1;
  }
  #loginBtn i {
    font-size: 14px !important;
    margin: 0 !important;
    color: #fff !important;
  }
  #loginBtn span {
    display: none !important;
  }



  /* 5. AVATAR USER */
  #userMenuTrigger {
    width: 32px !important;
    height: 32px !important;
    border-radius: 50% !important;
    overflow: hidden;
    border: 1.5px solid #4db8ff !important;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0 !important;
    margin: 0 !important;
  }
  .nav-user-avatar,
  #userMenuTrigger img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
  }

  /* 6. Menu tr∆∞·ª£t - C·∫£i thi·ªán UX mobile */
  .nav-menu {
    position: fixed;
    top: 70px;
    right: 0;
    width: 100%;
    height: calc(100dvh - 70px);
    background: var(--bg-primary);
    display: flex !important;
    flex-direction: column !important;
    align-items: stretch !important;
    /* Override tablet rules (padding-right:60px, white-space:nowrap) */
    padding: 10px 0 30px !important;
    white-space: normal !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
    transform: translateX(100%);
    transition: transform 0.3s ease;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    z-index: 1999;
    visibility: hidden;
    pointer-events: none;
  }
  .nav-menu.active {
    transform: translateX(0);
    visibility: visible;
    pointer-events: auto;
  }
  .nav-menu .nav-link {
    width: 100% !important;
    padding: 16px 24px !important;
    margin: 0 !important;
    font-size: 16px !important;
    font-weight: 500 !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 0 !important;
    display: flex !important;
    align-items: center;
    gap: 14px;
    box-sizing: border-box !important;
    transition: background 0.2s;
    position: relative;
    flex-shrink: 0;
  }
  /* Gi·ªØ ::after gradient cho active item - nh∆∞ng full width */
  .nav-menu .nav-link::after {
    content: "" !important;
    display: block !important;
    position: absolute !important;
    bottom: 0 !important;
    left: 0 !important;
    width: 0 !important;
    height: 2px !important;
    background: linear-gradient(90deg, #007aff, #4db8ff) !important;
    transform: none !important;
    transition: width 0.3s !important;
  }
  .nav-menu .nav-link.active::after {
    width: 100% !important;
  }
  .nav-menu .nav-link:last-child {
    border-bottom: none !important;
  }
  .nav-menu .nav-link:hover,
  .nav-menu .nav-link.active {
    background: rgba(0, 122, 255, 0.1);
  }
  .nav-menu .nav-link i {
    font-size: 18px !important;
    width: 24px;
    text-align: center;
    flex-shrink: 0;
    color: var(--accent-primary, #4db8ff);
  }
  .nav-menu .nav-link.active i {
    color: #4db8ff;
  }

  /* --- B. BANNER SLIDER RESPONSIVE (MOBILE) --- */
  .hero-banner {
    aspect-ratio: 16 / 9 !important;
    max-height: 50vh !important;
    margin-top: 60px !important;
  }
  .banner-content {
    bottom: 50px !important;
    left: 15px !important;
    right: 15px !important;
    max-width: 100% !important;
  }
  .banner-title {
    font-size: 22px !important;
    margin-bottom: 5px !important;
  }
  .banner-subtitle {
    display: none !important; /* ·∫®n t√™n ph·ª• tr√™n mobile */
  }
  .banner-meta {
    margin-bottom: 6px !important;
    gap: 6px !important;
  }
  .banner-meta span {
    font-size: 11px !important;
    padding: 2px 6px !important;
  }
  .banner-genres {
    font-size: 12px !important;
    margin-bottom: 8px !important;
  }
  .banner-desc {
    display: none !important; /* ·∫®n m√¥ t·∫£ tr√™n mobile */
  }
  .banner-actions {
    gap: 8px !important;
  }
  .btn-banner-play {
    padding: 8px 18px !important;
    font-size: 13px !important;
  }
  .btn-banner-icon {
    width: 36px !important;
    height: 36px !important;
    font-size: 14px !important;
  }
  /* ·∫®n n√∫t nav (d√πng swipe thay th·∫ø) */
  .banner-nav {
    display: none !important;
  }
  /* ·∫®n thumbnails tr√™n mobile */
  .banner-thumbs {
    display: none !important;
  }
  /* Dots nh·ªè l·∫°i */
  .banner-dots {
    left: 15px !important;
    bottom: 12px !important;
    gap: 5px !important;
  }
  .banner-dot {
    width: 8px !important;
    height: 8px !important;
  }
  .banner-dot.active {
    width: 22px !important;
  }
  /* --- C. FIX L·ªñI FOOTER (G·ªåN G√ÄNG 2 C·ªòT) --- */
  .footer {
    padding: 20px 0 10px !important; /* Gi·∫£m kho·∫£ng c√°ch tr√™n d∆∞·ªõi */
  }

  .footer-content {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important; /* Chia th√†nh 2 c·ªôt ƒë·ªÅu nhau */
    gap: 15px !important;
    padding: 0 15px !important;
  }

  /* Logo & Gi·ªõi thi·ªáu: N·∫±m tr√™n c√πng, chi·∫øm tr·ªçn b·ªÅ ngang */
  .footer-section:nth-child(1) {
    grid-column: span 2;
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    padding-bottom: 10px !important;
    margin-bottom: 0 !important;
  }
  /* ·∫®n d√≤ng m√¥ t·∫£ d√†i d√≤ng ƒëi cho g·ªçn */
  .footer-section:nth-child(1) p {
    display: none;
  }

  /* Ph·∫ßn Th·ªëng k√™: N·∫±m d∆∞·ªõi c√πng, chi·∫øm tr·ªçn b·ªÅ ngang */
  .stats-box {
    grid-column: span 2;
    margin-top: 0 !important;
    padding: 10px !important;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
  }

  /* Ch·ªânh font ch·ªØ footer nh·ªè l·∫°i */
  .footer-section h4 {
    font-size: 14px !important;
    margin-bottom: 10px !important;
  }
  .footer-section ul li {
    margin-bottom: 5px !important;
  }
  .footer-section ul li a {
    font-size: 12px !important;
  }

  /* --- C.5 FIX TRANG CHI TI·∫æT PHIM (MOVIE DETAIL PAGE) --- */
  .movie-detail {
    padding: 55px 12px 30px !important; /* Gi·∫£m padding tr√™n d∆∞·ªõi */
  }

  .movie-detail-header {
    display: grid !important;
    grid-template-columns: 1fr !important; /* ƒê·ªïi th√†nh 1 c·ªôt tr√™n mobile */
    gap: var(--spacing-md) !important; /* Gi·∫£m kho·∫£ng c√°ch */
    margin-bottom: var(--spacing-lg) !important;
  }

  .movie-poster {
    max-width: 100%;
    height: auto;
    margin: 0 auto;
  }

  .movie-poster img {
    width: 100%;
    height: auto;
    max-height: 400px;
    object-fit: cover;
  }

  .movie-info h1 {
    font-size: 20px !important; /* Gi·∫£m ƒë·ªô l·ªõn ti√™u ƒë·ªÅ */
    margin-bottom: 10px !important;
    margin-top: 5px;
  }

  .movie-meta {
    gap: 8px !important;
    margin-bottom: 10px !important;
    flex-wrap: wrap;
  }

  .movie-meta-item {
    font-size: 12px !important;
    gap: 4px !important;
  }

  .movie-meta-item i {
    font-size: 13px !important;
  }

  .movie-description {
    font-size: 13px !important;
    line-height: 1.6;
    margin-bottom: 15px !important;
  }

  .card-tags {
    gap: 5px !important;
    margin-bottom: 10px !important;
  }

  .card-tags .tag {
    font-size: 11px !important;
    padding: 4px 8px !important;
  }

  .movie-actions {
    flex-direction: column !important;
    gap: 8px !important;
  }

  .card-price {
    font-size: 18px !important;
  }

  .btn-lg {
    width: 100% !important;
    padding: 10px 15px !important;
    font-size: 14px !important;
  }

  /* Video player & Episodes */
  .video-container {
    margin-top: 20px !important;
  }

  .episodes-section {
    margin-top: 15px !important;
  }

  .episodes-list {
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)) !important;
    gap: 6px !important;
  }

  .episode-item {
    padding: 6px !important;
    font-size: 11px !important;
  }

  /* Comment Form & Rating Section */
  .comment-form {
    padding: 12px !important;
  }

  .rating-input {
    display: flex !important;
    flex-wrap: wrap !important; /* Cho ph√©p xu·ªëng d√≤ng */
    align-items: flex-start !important;
    gap: 6px !important;
    margin-bottom: 12px !important;
  }

  .rating-input label {
    width: 100%;
    display: block !important;
    margin-bottom: 6px !important;
    font-size: 13px !important;
  }

  .rating-stars {
    display: flex !important;
    flex-wrap: wrap !important; /* Cho ph√©p sao xu·ªëng d√≤ng */
    gap: 3px !important;
    order: 3; /* ƒê·ªÉ sao n·∫±m d∆∞·ªõi label */
  }

  .rating-stars i {
    font-size: 18px !important;
    margin: 0 !important;
  }

  .rating-value {
    font-size: 13px !important;
    margin-left: 0 !important;
    white-space: nowrap;
    order: 4;
    width: 100%;
    margin-top: 6px;
  }

  .comment-form .form-group {
    margin-bottom: 10px !important;
  }

  .form-textarea {
    font-size: 13px !important;
    min-height: 80px !important;
    padding: 8px !important;
  }

  /* --- D. L∆Ø·ªöI PHIM 4 C·ªòT --- */
  .movie-grid {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 10px !important;
    padding: 0 5px !important;
  }
  .card-body {
    padding: 6px 4px !important;
  }
  .card-title {
    font-size: 11px !important;
    margin-bottom: 2px !important;
    line-height: 1.3 !important;
  }
  .card-meta {
    font-size: 10px !important;
  }
  .card-image img {
    border-radius: 6px !important;
  }

  /* --- E. FIX POPUP TO QU√Å (Thu nh·ªè & Tinh ch·ªânh) --- */
  .movie-card-wrapper .movie-popup-nfx {
    display: none !important;
  }

  .movie-card-wrapper.active-mobile {
    z-index: 5000 !important;
    position: relative;
  }

  .movie-card-wrapper.active-mobile .movie-popup-nfx {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: absolute;
    top: 20px; /* H·∫° th·∫•p v·ª´a ph·∫£i (t·ª´ 40px) ƒë·ªÉ kh√¥ng qu√° th·∫•p c≈©ng kh√¥ng qu√° cao */
    left: 50%;
    transform: translateX(-50%); /* Scale 1.15 ƒë∆∞·ª£c k·∫ø th·ª´a t·ª´ rule global mobile ph√≠a d∆∞·ªõi */

    /* üëá GI·∫¢M K√çCH TH∆Ø·ªöC POPUP THEO Y√äU C·∫¶U */
    width: 200px !important; /* Gi·∫£m t·ª´ 225px xu·ªëng 200px */
    height: auto;
    z-index: 5001;
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.95);
    border: 1px solid var(--accent-primary);
    /* üëá QUAN TR·ªåNG: √âp n·ªÅn m√†u t·ªëi ƒë·ªÉ ch·ªØ tr·∫Øng lu√¥n n·ªïi b·∫≠t */
    background: #1f1f2e !important;
    color: #fff !important;
  }

  /* ·∫®N TH·∫∫ PHIM G·ªêC TR√äN MOBILE KHI POPUP ACTIVE */
  .movie-card-wrapper.active-mobile .movie-card-static,
  .movie-card-wrapper.active-mobile .landscape-img-container,
  .movie-card-wrapper.active-mobile .landscape-info {
      opacity: 0 !important;
      pointer-events: none !important;
  }

  /* Font ch·ªØ Popup nh·ªè l·∫°i */
  .movie-card-wrapper.active-mobile .popup-header-img {
    height: 110px !important;
  }
  .movie-card-wrapper.active-mobile .popup-body {
    padding: 8px !important;
  }
  .movie-card-wrapper.active-mobile .popup-title-new {
    font-size: 13px !important;
    margin-bottom: 4px !important;
    line-height: 1.3 !important;
  }
  .movie-card-wrapper.active-mobile .popup-meta-row {
    font-size: 9px;
    gap: 4px;
    margin-bottom: 6px;
    /* CH·ªà L√ÄM M·ªú B√äN PH·∫¢I: Tr√°nh che khu·∫•t/c·∫Øt ch·ªØ b√™n tr√°i khi m·ªõi m·ªü popup */
    mask-image: linear-gradient(to right, black 0%, black 85%, transparent 100%);
    -webkit-mask-image: linear-gradient(to right, black 0%, black 85%, transparent 100%);
  }

  /* RE-ENABLE MARQUEE ONLY FOR MOBILE */
  .movie-card-wrapper.active-mobile .marquee-content {
    transform: translateX(0); /* ƒê·∫£m b·∫£o v·ªã tr√≠ ban ƒë·∫ßu lu√¥n l√† 0 */
    animation: marquee-infinite 12s linear infinite !important;
    animation-delay: 1.5s !important; /* ƒê·ª©ng y√™n 1.5s sau khi m·ªü popup tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu ch·∫°y */
  }
  .movie-card-wrapper.active-mobile .marquee-duplicate {
    display: flex !important;
  }
  .movie-card-wrapper.active-mobile .btn-popup-play {
    font-size: 11px !important;
    padding: 5px 10px;
    height: 28px;
  }
  .movie-card-wrapper.active-mobile .btn-popup-icon {
    width: 28px;
    height: 28px;
    font-size: 10px;
  }

  /* ·∫®n b·ªõt th√¥ng tin kh√¥ng c·∫ßn thi·∫øt tr√™n mobile cho g·ªçn */
  .movie-card-wrapper.active-mobile .popup-genres-row,
  .movie-card-wrapper.active-mobile .popup-genres-text {
    display: none;
  }

  /* --- MOBILE: LANDSCAPE MOVIE CARD POPUP (16:9) --- */
  .movie-card-landscape.active-mobile .movie-popup-nfx {
      width: 260px !important; /* N·ªõi r·ªông ƒë·ªß ch·ªó cho 3 n√∫t tr√™n 1 h√†ng ngang */
      max-width: 95vw !important;
  }
  .movie-card-landscape.active-mobile .popup-header-img {
      height: 100px !important; /* Thu g·ªçn chi·ªÅu cao ·∫£nh header landscape cho c√¢n ƒë·ªëi */
  }
  .movie-card-landscape.active-mobile .landscape-img-container {
      height: 80px !important; /* Thu nh·ªè container ·∫£nh n·ªÅn c·ªßa th·∫ª g·ªëc khi active */
  }
  .movie-card-landscape.active-mobile .popup-title-main {
      font-size: 16px !important; 
      color: #ffeb3b !important;
      font-weight: 800 !important;
      margin-bottom: 8px;
      line-height: 1.3;
  }
  
  /* ƒê√âP C√ÅC N√öT V√ÄO M·ªòT H√ÄNG NGANG T∆Ø∆†NG T·ª∞ B√äN KIA */
  .movie-card-landscape.active-mobile .popup-actions {
      flex-wrap: nowrap !important;
      gap: 4px !important;
      margin-top: 8px !important;
  }
  
  .movie-card-landscape.active-mobile .btn-play-pink {
      font-size: 11px !important;
      padding: 6px 10px !important;
      white-space: nowrap !important;
  }
  .movie-card-landscape.active-mobile .btn-action-glass {
      padding: 6px 8px !important;
      font-size: 11px !important;
      white-space: nowrap !important;
  }
  .movie-card-landscape.active-mobile .meta-badges-row {
      gap: 5px !important;
      margin-bottom: 8px !important;
  }
  .movie-card-landscape.active-mobile .badge-item {
      font-size: 9px !important;
      padding: 2px 6px !important;
  }

  /* --- POPUP PHIM TH√îNG MINH (SMART POSITIONING) --- */
  
  .movie-card-wrapper {
      position: relative;
      z-index: 1; 
  }

  /* Khi active (ƒë∆∞·ª£c JS th√™m class): TƒÉng z-index cao nh·∫•t */
  .movie-card-wrapper.active-mobile {
      z-index: 10000 !important;
  }

  .movie-popup-nfx {
    position: absolute !important;
    top: 50% !important;
    
    /* M·∫∂C ƒê·ªäNH: CENTER */
    left: 50% !important;
    right: auto !important;
    transform: translate(-50%, -50%) scale(1) !important; /* B·ªè scale(1.15) ƒë·ªÉ popup kh√¥ng b·ªã l·ªë */
    
    width: 100% !important; 
    height: auto !important;
    min-height: auto !important; /* ƒê·ªïi th√†nh auto thay v√¨ 100% ƒë·ªÉ gi·∫£m chi·ªÅu cao */
    
    z-index: 10001 !important;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.9) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    
    opacity: 0; 
    visibility: hidden;
    pointer-events: none;
    transition: opacity 0.2s, visibility 0.2s;
    
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
  }

  /* --- LOGIC HI·ªÇN TH·ªä D·ª∞A TR√äN JS --- */
  
  /* 1. M·ªü popup khi c√≥ class .active-mobile */
  .movie-card-wrapper.active-mobile .movie-popup-nfx {
      opacity: 1 !important;
      visibility: visible !important;
      pointer-events: auto !important;
  }

  /* 2. N·∫øu ·ªü l·ªÅ TR√ÅI -> M·ªü l·ªách sang PH·∫¢I */
  .movie-card-wrapper.popup-align-left .movie-popup-nfx {
      left: 0 !important;
      right: auto !important;
      transform: translate(0, -50%) scale(1) !important; /* Neo b√™n tr√°i, scale t·ª´ t√¢m tr√°i */
      transform-origin: left center !important;
  }

  /* 3. N·∫øu ·ªü l·ªÅ PH·∫¢I -> M·ªü l·ªách sang TR√ÅI */
  .movie-card-wrapper.popup-align-right .movie-popup-nfx {
      left: auto !important;
      right: 0 !important;
      transform: translate(0, -50%) scale(1) !important; /* Neo b√™n ph·∫£i, scale t·ª´ t√¢m ph·∫£i */
      transform-origin: right center !important;
  }
  
  /* ƒê·∫£m b·∫£o t∆∞∆°ng t√°c */
  .movie-popup-nfx button,
  .movie-popup-nfx a,
  .movie-popup-nfx i,
  .movie-popup-nfx .popup-actions {
      pointer-events: auto !important;
  }

  /* üëá FIX: Hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß th√¥ng tin trong Popup Mobile v√† thu g·ªçn chi·ªÅu cao */
  .movie-popup-nfx .popup-header-img {
      height: 100px !important; /* Gi·∫£m chi·ªÅu cao ·∫£nh b√¨a popup */
  }
  
  .movie-popup-nfx .popup-body {
      padding: 10px !important; /* Gi·∫£m kho·∫£ng c√°ch l·ªÅ trong popup */
  }
  
  .movie-popup-nfx .popup-title-new {
      font-size: 15px !important; /* C·ª° ch·ªØ nh·ªè h∆°n ch√∫t */
      margin-bottom: 6px !important;
  }
  
  .movie-popup-nfx .popup-actions {
      margin-bottom: 10px !important;
  }
  
  .movie-popup-nfx .popup-genres-row,
  .movie-popup-nfx .popup-meta-row span {
      display: inline-block !important;
      visibility: visible !important;
      opacity: 1 !important;
      font-size: 11px !important; /* Ch·ªØ nh·ªè cho v·ª´a */
  }
  
  .movie-popup-nfx .popup-genres-row {
      margin-top: 4px;
      color: #ccc;
      display: flex !important;
      align-items: center;
      gap: 5px;
  }

  /* Fix Admin Sidebar */
  .admin-sidebar {
    display: block !important;
    position: fixed !important;
    top: 0;
    left: -100% !important;
    width: 260px !important;
    height: 100vh;
    z-index: 6000;
    transition: left 0.3s;
    background: var(--bg-secondary);
  }
  .admin-sidebar.active {
    left: 0 !important;
  }
  .admin-content {
    margin-left: 0 !important;
    padding: 15px;
  }
  #adminSidebarOverlay {
    z-index: 5999 !important;
  }
  /* --- G. FIX L·ªñI GIAO DI·ªÜN LIGHT MODE & TH·ªÇ LO·∫†I (M·ªöI) --- */

  /* 1. Fix Ti√™u ƒë·ªÅ phim kh√≥ ƒë·ªçc ·ªü Light Mode */
  [data-theme="light"] .card-title {
    color: #efef0f !important; /* Chuy·ªÉn th√†nh m√†u ƒëen ƒë·∫≠m */
    font-weight: 700 !important;
  }
  [data-theme="light"] .card-meta {
    color: #555 !important; /* M√†u ph·ª• chuy·ªÉn th√†nh x√°m ƒë·∫≠m */
  }
  /* L√†m n·ªÅn th·∫ª phim ·ªü Lightmode s√°ng h∆°n ch√∫t ƒë·ªÉ t√°ch bi·ªát */
  [data-theme="light"] .movie-card-static {
    background: #fff !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  /* 2. Fix Th·∫ª Th·ªÉ Lo·∫°i b·ªã k√©o d√†i (D√πng selector m·∫°nh ƒë·ªÉ √©p v·ªÅ 2 c·ªôt) */
  div#categoriesList {
    grid-template-columns: repeat(2, 1fr) !important; /* √âP C·ª®NG 2 C·ªòT */
    gap: 12px !important;
    display: grid !important;
  }

  /* Reset th·∫ª th·ªÉ lo·∫°i ƒë·ªÉ n√≥ n·∫±m ngang (d·∫°ng vi√™n thu·ªëc), kh√¥ng b·ªã d√†i th√≤ng */
  div#categoriesList .category-card-pro {
    width: 100% !important;
    aspect-ratio: 2.5 / 1 !important; /* T·ªâ l·ªá ch·ªØ nh·∫≠t ngang (R·ªông 2.5 : Cao 1) */
    min-height: unset !important;
    height: auto !important;
    padding: 10px !important;

    /* Flex ƒë·ªÉ icon v√† ch·ªØ n·∫±m ngang */
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: flex-start !important;
  }

  /* Ch·ªânh n·ªôi dung b√™n trong n·∫±m ngang */
  div#categoriesList .cat-content {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    text-align: left !important;
    width: 100%;
    gap: 10px !important;
  }

  /* Icon nh·ªè l·∫°i v√† n·∫±m b√™n tr√°i */
  div#categoriesList .cat-icon-box {
    width: 32px !important;
    height: 32px !important;
    margin-bottom: 0 !important; /* B·ªè margin d∆∞·ªõi c≈© */
    flex-shrink: 0;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  div#categoriesList .cat-icon-box i {
    font-size: 14px !important;
  }

  /* Ch·ªØ ti√™u ƒë·ªÅ n·∫±m b√™n ph·∫£i icon */
  div#categoriesList .cat-title {
    font-size: 13px !important;
    margin: 0 !important;
    text-transform: uppercase;
    font-weight: 800;
    line-height: 1.2;
    width: auto !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    flex: 1 !important;
  }

  /* ·∫®n d√≤ng ph·ª• 'Kh√°m ph√° ngay' cho g·ªçn */
  div#categoriesList .cat-subtitle {
    display: none !important;
  }
  /* --- G. FIX GIAO DI·ªÜN LIGHT MODE & POPUP (FINAL) --- */

  /* 1. TH·∫∫ PHIM ·ªû NGO√ÄI (N·ªÅn tr·∫Øng -> Ch·ªØ ƒêen) */
  [data-theme="light"] .card-title {
    color: #111 !important; /* M√†u ƒëen tuy·ªÅn cho d·ªÖ ƒë·ªçc */
    font-weight: 700 !important;
  }
  [data-theme="light"] .card-meta {
    color: #ec3434 !important;
    font-weight: 600 !important;
  }
  [data-theme="light"] .movie-card-static {
    background: #fff !important;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    border: 1px solid #ddd !important;
  }

  /* 2. POPUP CHI TI·∫æT (ƒê·ªìng b·ªô background s√°ng) */
  [data-theme="light"] .movie-popup-nfx {
    background: #ffffff !important;
    border: 1px solid rgba(0,0,0,0.1) !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1) !important;
  }

  [data-theme="light"] .popup-body {
    background: linear-gradient(to top, #ffffff 80%, transparent) !important;
  }

  /* üëá TI√äU ƒê·ªÄ TRONG POPUP: CH·ªÆ ƒêEN D·ªÑ ƒê·ªåC */
  [data-theme="light"] .popup-title-new,
  [data-theme="light"] .popup-title-main {
    color: #111 !important;
    text-shadow: none !important;
    font-weight: 800 !important;
  }

  /* C√°c th√¥ng s·ªë kh√°c trong Popup (NƒÉm, Th·ªùi l∆∞·ª£ng...) m√†u x√°m */
  [data-theme="light"] .popup-meta-row span,
  [data-theme="light"] .popup-genres-text,
  [data-theme="light"] .popup-genres-row {
    color: #555 !important;
  }

  /* Fix l·∫°i c√°c n√∫t tr√≤n trong popup cho d·ªÖ nh√¨n */
  [data-theme="light"] .btn-popup-icon {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #333 !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
  }
  [data-theme="light"] .btn-popup-icon:hover {
    background: rgba(0, 0, 0, 0.1) !important;
    color: #000 !important;
  }
  /* --- I. FIX MENU USER (V11 - T√ÅCH BI·ªÜT S·ªê D∆Ø V√Ä N√öT N·∫†P) --- */

  /* 1. KHUNG MENU (S√°ng chu·∫©n Light Mode) */
  [data-theme="light"] .user-dropdown,
  [data-theme="light"] .profile-dropdown,
  [data-theme="light"] #userMenu,
  [data-theme="light"] #userDropdown {
    background-color: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
  }

  /* 2. [QUAN TR·ªåNG] RESET "S·ªê D∆Ø 0 C" V·ªÄ TRONG SU·ªêT */
  /* T√¨m t·∫•t c·∫£ th·∫ª span/div ch·ª©a s·ªë d∆∞ v√† x√≥a n·ªÅn tr·∫Øng ƒëi */
  [data-theme="light"] .user-dropdown span,
  [data-theme="light"] .user-dropdown div,
  [data-theme="light"] .user-dropdown b,
  [data-theme="light"] .user-dropdown strong {
    background-color: transparent !important; /* X√≥a n·ªÅn tr·∫Øng sai */
    color: var(--text-primary) !important; /* Ch·ªØ t·ª± ƒë·ªông theo theme */
    border: none !important;
    box-shadow: none !important;
  }

  /* 3. [QUAN TR·ªåNG] CH·ªà T√î N·ªÄN TR·∫ÆNG CHO N√öT LINK "N·∫†P" */
  /* Ch·ªâ t√°c ƒë·ªông v√†o th·∫ª a (ƒë∆∞·ªùng d·∫´n) ho·∫∑c button nh·ªè */
  [data-theme="light"] .user-dropdown a:not(.btn-block):not(.w-full),
  [data-theme="light"] .user-dropdown button.btn-sm,
  [data-theme="light"] .user-dropdown .btn-deposit {
    background-color: var(--accent-primary) !important; /* üëâ N·ªÅn xanh */
    color: #ffffff !important; /* üëâ Ch·ªØ Tr·∫Øng */

    border-radius: 20px !important; /* N√∫t tr√≤n */
    padding: 4px 12px !important; /* TƒÉng padding ch√∫t cho ƒë·∫πp */
    font-size: 11px !important;
    font-weight: 800 !important;
    margin-left: auto !important;
    display: inline-block !important;
    text-decoration: none !important;
    box-shadow: 0 2px 5px rgba(0, 122, 255, 0.2) !important;
    border: none !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* 4. KH√îI PH·ª§C N√öT TO "N√ÇNG C·∫§P NGAY" (M√†u ƒë·ªè) */
  [data-theme="light"] .user-dropdown button.w-full,
  [data-theme="light"] .user-dropdown .btn-block {
    background: linear-gradient(135deg, #007aff 0%, #4db8ff 100%) !important;
    color: #ffffff !important;
    box-shadow: 0 4px 15px rgba(0, 122, 255, 0.3) !important;
    border: none !important;
  }

  /* --- J. FIX TR√ÄN GRID (Watch Party & Admin) --- */
  .admin-mobile-toggle {
    display: flex !important;
    margin-right: 12px !important;
    width: auto !important;
    padding: 0 10px 0 16px !important; /* TƒÉng padding ƒë·ªÉ thanh d·ªçc r√µ h∆°n */
    height: 35px !important;
    background: transparent !important;
    background-color: transparent !important; /* √âp kh√¥ng m√†u */
    border: none !important;
    box-shadow: none !important; /* B·ªè m·ªçi b√≥ng ƒë·ªï */
    position: relative;
    border-left: 3px solid var(--accent-primary) !important; /* G·∫°ch d·ªçc nh·ªè chuy√™n nghi·ªáp */
    align-items: center;
    justify-content: center;
    border-radius: 0 !important;
    outline: none !important;
    margin-bottom: 20px !important; /* TƒÉng kho·∫£ng c√°ch ƒë√°ng k·ªÉ v·ªõi ti√™u ƒë·ªÅ */
    width: fit-content !important;
  }

  .admin-mobile-toggle i {
    font-size: 1.1rem !important;
    color: var(--accent-primary) !important;
    filter: drop-shadow(0 0 5px rgba(78, 205, 196, 0.3));
    border-radius: 0 !important;
    outline: none !important;
    margin-bottom: 12px !important; /* Kho·∫£ng c√°ch nh·ªè v·ªõi ti√™u ƒë·ªÅ */
    width: fit-content !important;
  }

  .admin-panel-header {
    flex-wrap: nowrap !important;
    justify-content: flex-start !important;
    gap: 0 !important;
    margin-bottom: 25px !important;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    padding-bottom: 15px;
    flex-direction: column !important; /* X·∫øp ch·ªìng d·ªçc cho ƒë·∫πp */
    align-items: flex-start !important;
  }

  .admin-panel-title {
    font-size: 1.5rem !important;
    margin: 5px 0 0 0 !important; /* ƒê·∫£m b·∫£o c√≥ kho·∫£ng c√°ch d∆∞·ªõi n√∫t m≈©i t√™n */
    font-weight: 800 !important;
  }

  .party-grid,
  .stats-grid {
    grid-template-columns: 1fr !important;
  }
  .party-container {
    padding: 15px !important;
  }

  /* 5. TAG VIP (V√†ng) */
  [data-theme="light"] .user-dropdown .vip-tag,
  [data-theme="light"] .user-dropdown span.vip-tag {
    background: #ffeb3b !important; /* M√†u v√†ng */
    color: #000 !important; /* Ch·ªØ ƒëen */
  }

  /* 6. DARK MODE (Gi·ªØ nguy√™n) */
  [data-theme="dark"] .user-dropdown,
  [data-theme="dark"] .profile-dropdown {
    background-color: #1f1f2e !important;
    color: #ffffff !important;
  }
}

/* L√†m g·ªçn hi·ªÉn th·ªã b√¨nh lu·∫≠n tr√™n mobile */
.comment-item {
  padding: 10px 8px !important;
  gap: 8px !important;
  border-radius: 10px !important;
  min-height: unset !important;
}
.comment-avatar {
  width: 32px !important;
  height: 32px !important;
  font-size: 15px !important;
  border-radius: 50% !important;
}
.comment-content {
  font-size: 13px !important;
}
.comment-header {
  flex-direction: column !important;
  align-items: flex-start !important;
  gap: 2px !important;
  margin-bottom: 2px !important;
}
.comment-author {
  font-size: 13px !important;
  font-weight: 700 !important;
}
.comment-rating {
  font-size: 12px !important;
  gap: 2px !important;
  margin-top: 0 !important;
}
.comment-text {
  font-size: 13px !important;
  margin-bottom: 2px !important;
  line-height: 1.5 !important;
}
.comment-time {
  font-size: 11px !important;
  color: #aaa !important;
  margin-bottom: 2px !important;
}
.comment-actions {
  margin-top: 4px !important;
  display: flex !important;
  justify-content: flex-start !important;
}

/* ============================================
   FIX L·ªñI CH√ÇN TRANG & TH·ªêNG K√ä LIGHT MODE (GLOBAL - PC & MOBILE)
   ============================================ */

/* 1. ƒê·ªïi m√†u khung th·ªëng k√™ sang x√°m nh·∫°t ƒë·ªÉ n·ªïi b·∫≠t tr√™n n·ªÅn tr·∫Øng */
[data-theme="light"] .stats-box {
  background: #f3f4f6 !important;
  border: 1px solid #d1d5db !important;
}

/* 2. ƒê·ªïi m√†u ch·ªØ "ƒêang Online", "T·ªïng truy c·∫≠p"... sang m√†u ƒëen */
[data-theme="light"] .stat-label {
  color: #374151 !important;
}

/* 3. ƒê·ªïi m√†u CON S·ªê (174, 15 ph√∫t...) sang m√†u ƒëen ƒë·∫≠m */
[data-theme="light"] .stat-value {
  color: #000000 !important;
  font-weight: 800 !important;
}

/* 4. ƒê·ªïi m√†u c√°c Icon trong th·ªëng k√™ sang m√†u Xanh cho ƒë·∫πp */
[data-theme="light"] .stats-box i {
  color: #4db8ff !important;
}

/* 5. Ti·ªán th·ªÉ s·ª≠a lu√¥n m√†u ti√™u ƒë·ªÅ Footer (Kh√°m Ph√°, H·ªó Tr·ª£...) sang ƒëen */
[data-theme="light"] .footer-section h4 {
  color: #111 !important;
}
/* S·ª≠a m√†u c√°c ƒë∆∞·ªùng link b√™n d∆∞·ªõi */
[data-theme="light"] .footer-section ul li a {
  color: #555 !important;
}
/* ======================================================
   HI·ªÜU ·ª®NG VOICE CHAT (GLOBAL - √ÅP D·ª§NG CHO M·ªåI M√ÄN H√åNH)
   ====================================================== */
.is-speaking .avatar-img,
img.avatar-img.is-speaking {
  border: 3px solid #00ff6a !important; /* Xanh l√° d·∫° quang */
  box-shadow: 0 0 15px #00ff6a !important; /* Ph√°t s√°ng m·∫°nh */
  transform: scale(1.15) !important;
  transition: all 0.15s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
  z-index: 100 !important;
}

/* Hi·ªáu ·ª©ng rung n·ªÅn cho c·∫£ d√≤ng t√™n */
.member-item.is-speaking {
  background: rgba(0, 255, 106, 0.15) !important;
  border: 1px solid rgba(0, 255, 106, 0.3) !important;
}
/* ======================================================
   WATCH PARTY: FINAL FIX (MOBILE & LIGHT MODE)
   ====================================================== */

/* --- 1. M·∫∂C ƒê·ªäNH (DARK MODE) - KH√îI PH·ª§C M√ÄU CH·ªÆ --- */
/* V√¨ ƒë√£ x√≥a style c·ª©ng trong JS, ta ph·∫£i ƒë·ªãnh nghƒ©a m√†u ·ªü ƒë√¢y */
.member-name {
  color: #ffffff; /* M·∫∑c ƒë·ªãnh ch·ªØ tr·∫Øng */
  font-weight: 700;
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 120px;
  display: inline-block;
  vertical-align: middle;
}
.member-role {
  font-size: 11px;
  color: #aaaaaa; /* M·∫∑c ƒë·ªãnh x√°m */
  display: block;
}
.member-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px;
  margin-bottom: 5px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
}
.member-avatar {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  object-fit: cover;
}
.member-actions {
  display: flex;
  align-items: center;
  gap: 5px;
}

/* --- 2. LIGHT MODE (CH·∫æ ƒê·ªò S√ÅNG) --- */
/* D√πng body[data-theme="light"] ƒë·ªÉ tƒÉng ƒë·ªô ∆∞u ti√™n (Specificity) */

/* Sidebar & Tab */

body[data-theme="light"] .room-tab {
  color: #65676b !important;
}
body[data-theme="light"] .room-tab.active {
  color: #0084ff !important;
  border-bottom-color: #0084ff !important;
  background: rgba(0, 132, 255, 0.05) !important;
}

/* Danh s√°ch th√†nh vi√™n (Light Mode) */
body[data-theme="light"] .member-item {
  background-color: #ffffff !important;
  border: 1px solid #e4e6eb !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}
body[data-theme="light"] .member-name {
  color: #050505 !important; /* üëâ CH·ªÆ ƒêEN */
}
body[data-theme="light"] .member-role {
  color: #65676b !important; /* üëâ ROLE X√ÅM ƒê·∫¨M */
}
body[data-theme="light"] .member-item:hover {
  background-color: #f2f2f2 !important;
}

/* Chat Input (Light Mode) */
body[data-theme="light"] .chat-input-area {
  background: #ffffff !important;
  border-top: 1px solid #e4e6eb !important;
}
body[data-theme="light"] #chatInput {
  background: #f0f2f5 !important;
  color: #050505 !important;
  border: 1px solid #ddd !important;
}
body[data-theme="light"] #chatInput::placeholder {
  color: #65676b !important;
}

/* Tin nh·∫Øn Chat (Light Mode) */
body[data-theme="light"] .chat-msg:not(.me) .text {
  background-color: #e4e6eb !important;
  color: #050505 !important;
}
body[data-theme="light"] .chat-msg.me .text {
  background-color: #0084ff !important;
  color: #ffffff !important;
}
body[data-theme="light"] .chat-msg .author {
  color: #65676b !important;
}

/* ======================================================
   WATCH PARTY: B·∫¢N FULL (LAYOUT MOBILE + LIGHT MODE + HOST)
   ====================================================== */

/* --- 1. M√ÄU CH·ªÆ CH·ª®C DANH (HOST/MEMBER) --- */
.role-host {
  color: #f1c40f;
  font-weight: 800;
}
.role-member {
  color: #aaa;
}

/* --- 2. LIGHT MODE (CH·∫æ ƒê·ªò S√ÅNG - QUAN TR·ªåNG) --- */
/* D√πng selector m·∫°nh ƒë·ªÉ ƒë√® m·ªçi th·ª© */

[data-theme="light"] .room-tab {
  color: #555 !important;
}
[data-theme="light"] .room-tab.active {
  color: #0084ff !important;
  background: rgba(0, 132, 255, 0.1) !important;
}

/* Danh s√°ch th√†nh vi√™n (Light Mode) */
[data-theme="light"] .member-item {
  background-color: #ffffff !important;
  border: 1px solid #eee !important;
  color: #333 !important;
}
[data-theme="light"] .member-name {
  color: #000000 !important; /* Ch·ªØ ƒëen tuy·ªÅn */
}
[data-theme="light"] .role-host {
  color: #d35400 !important; /* Cam ƒë·∫≠m (thay v√¨ v√†ng ch√≥i) */
}
[data-theme="light"] .role-member {
  color: #666 !important;
}

/* TIN NH·∫ÆN CHAT (Light Mode - Fix l·ªói ch·ªØ v√†ng n·ªÅn tr·∫Øng) */
[data-theme="light"] .chat-msg:not(.me) .text {
  background-color: #e4e6eb !important;
  color: #050505 !important;
  font-weight: 500;
}
[data-theme="light"] .chat-msg.me .text {
  background-color: #0084ff !important;
  color: #ffffff !important;
}
[data-theme="light"] .chat-msg .author {
  color: #666 !important;
}

/* TIN NH·∫ÆN H·ªÜ TH·ªêNG (Light Mode) */
[data-theme="light"] .chat-msg.system {
  color: #92400e !important; /* N√¢u ƒë·∫≠m */
  background-color: #fef3c7 !important; /* V√†ng nh·∫°t */
  border: 1px solid #fcd34d !important;
  border-radius: 5px !important;
  padding: 5px 10px !important;
  font-weight: 600 !important;
  text-shadow: none !important; /* B·ªè b√≥ng ch·ªØ */
  width: 90%;
  margin: 10px auto;
}

/* √î nh·∫≠p li·ªáu (Light Mode) */
[data-theme="light"] .chat-input-area {
  background: #fff !important;
  border-top: 1px solid #ddd !important;
}
[data-theme="light"] #chatInput {
  background: #f0f2f5 !important;
  color: #000 !important;
  border: 1px solid #ccc !important;
}


/* =================================================================
   MASTER FIX V9 (GRID SYSTEM - KH√îNG TH·ªÇ V·ª† GIAO DI·ªÜN)
   ================================================================= */

@media (max-width: 1024px) {
  /* --- 1. C·∫§U H√åNH CHUNG --- */
  html,
  body {
    background: var(--bg-primary) !important;
    /* Reset l·∫°i m·ªçi thu·ªôc t√≠nh position c√≥ th·ªÉ g√¢y l·ªói */
    position: static !important;
    width: 100% !important;
  }
  .party-container,
  .main-content {
    padding: 0 !important;
    margin: 0 !important;
    width: 100% !important;
    max-width: none !important;
  }
  /* ƒê·∫¢M B·∫¢O .page KH√îNG B·ªä NAV CHE - √ÅP D·ª§NG M·ªåI ORIENTATION */
  .page {
    padding-top: 60px !important;
    min-height: 100vh !important;
    background: var(--bg-primary) !important;
  }
  
  /* C·ª• th·ªÉ cho trang Ph√≤ng Xem Chung (Header di ƒë·ªông cao n√™n c·∫ßn ƒë·∫©y l√πi xu·ªëng th√™m) */
  #watchPartyPage.page {
    padding-top: 110px !important;
  }
  
  #partyRoom.page {
    padding-top: 0 !important;
  }

  /* ============================================================
       MODE 1: D·ªåC (PORTRAIT) - CH·ªà C·∫¶N CU·ªòN ƒê∆Ø·ª¢C L√Ä OK
       ============================================================ */
  @media (orientation: portrait) {
    /* X√ìA KHO·∫¢NG TR·ªêNG PH√çA TR√äN - Ch·ªâ c·∫ßn ƒë·∫©y xu·ªëng ƒë√∫ng chi·ªÅu cao nav */
    .page {
      padding-top: 60px !important;
      margin-top: 0 !important;
      min-height: 100vh !important;
      background: var(--bg-primary) !important;
    }
    #partyRoom.page {
      padding-top: 0 !important;
      margin-top: 0 !important;
      min-height: 80vh !important;
    }

    /* M·∫∂C ƒê·ªäNH: C√ÅC TRANG CU·ªòN B√åNH TH∆Ø·ªúNG */
    html,
    body {
      overflow-y: auto !important;
      overflow-x: hidden !important;
      height: auto !important;
      position: static !important;
      width: 100% !important;
    }
    /* CH·ªà KH√ìA CU·ªòN KHI TRONG PH√íNG WATCH PARTY */
    body.watch-party-active {
      overflow: hidden !important;
      height: 100dvh !important;
      position: fixed !important;
      width: 100% !important;
    }

    #partyRoom {
      position: fixed !important;
      top: 60px !important; /* Ngay d∆∞·ªõi thanh nav */
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      width: 100% !important;
      background: var(--bg-primary) !important;
      padding: 0 !important;
      margin: 0 !important;
      overflow: hidden !important;
      z-index: 100 !important;
    }

    /* CONTAINER CH√çNH - FLEX D·ªåC, FILL H·∫æT VIEWPORT */
    .room-layout {
      display: flex !important;
      flex-direction: column !important;
      grid-template-columns: none !important;
      width: 100% !important;
      height: 100% !important;
      gap: 0 !important;
      padding: 0 !important;
      overflow: hidden !important;
    }

    /* Header - N·∫∞M ƒê·∫¶U TI√äN trong .room-main (flex column) */
    .room-header-bar {
      display: flex !important;
      flex-wrap: wrap !important;
      justify-content: center !important;
      align-items: center !important;
      background: var(--bg-secondary) !important;
      padding: 6px 10px !important;
      margin: 0 !important;
      border-radius: 0 !important;
      width: 100% !important;
      order: -1 !important; /* Lu√¥n ƒë·ª©ng ƒë·∫ßu trong flex */
      z-index: 100 !important;
      position: relative !important;
      min-height: 40px !important;
      flex-shrink: 0 !important;
    }
    #roomTitleDisplay {
      width: 100% !important;
      text-align: center !important;
      order: -1 !important;
      font-weight: 700 !important;
      margin-bottom: 4px !important;
      font-size: 14px !important;
      color: var(--text-primary) !important;
      display: block !important;
    }
    .room-meta {
      display: flex !important;
      gap: 8px !important;
      justify-content: center !important;
    }

    /* Video D·ªçc */
    .room-main,
    .party-main {
      width: 100% !important;
      display: flex !important;
      flex-direction: column !important;
      background: var(--bg-primary) !important;
      position: relative !important;
      margin: 0 !important;
      padding: 0 !important;
      order: 2 !important;
      flex-shrink: 0 !important;
      /* KH√îNG d√πng aspect-ratio ·ªü ƒë√¢y v√¨ #hostControls c≈©ng n·∫±m trong room-main */
    }
    /* PLAYER WRAPPER - T·ª∂ L·ªÜ 16:9 */
    .room-player-wrapper {
      width: 100% !important;
      aspect-ratio: 16/9 !important;
      position: relative !important;
      flex-shrink: 0 !important;
      margin: 0 !important;
      padding: 0 !important;
      border-radius: 0 !important;
      min-height: unset !important;
      height: auto !important;
      overflow: hidden !important;
      order: 1 !important; /* Sau header-bar */
    }
    #partyPlayer {
      width: 100% !important;
      height: 100% !important;
      display: block !important;
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
    }

    /* Controls D·ªçc - NGAY SAU VIDEO trong .room-main */
    #hostControls,
    .room-controls {
      width: 100% !important;
      overflow-x: auto !important;
      white-space: nowrap !important;
      background: var(--bg-secondary) !important;
      padding: 8px 10px !important;
      display: flex !important;
      gap: 8px !important;
      order: 2 !important; /* Sau player-wrapper(1) trong .room-main flex */
      flex-shrink: 0 !important;
      position: relative !important;
      transform: none !important;
      border-top: 1px solid var(--border-color) !important;
    }

    /* Chat D·ªçc - FILL ƒê√öNG PH·∫¶N C√íN L·∫†I GI·ªÆA CONTROLS V√Ä INPUT */
    .room-sidebar,
    .party-sidebar {
      width: 100% !important;
      display: flex !important;
      flex-direction: column !important;
      flex: 1 !important;
      min-height: 0 !important; /* Quan tr·ªçng: cho ph√©p co l·∫°i */
      background: var(--bg-primary) !important;
      border: none !important;
      border-radius: 0 !important;
      order: 4 !important;
      overflow: hidden !important;
      padding-bottom: 50px !important; /* Ch·ª´a ch·ªó cho chat-input fixed */
    }

    .room-tabs {
      height: 42px !important;
      min-height: 42px !important;
      background: var(--bg-secondary) !important;
      flex-shrink: 0 !important;
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      border-top: 2px solid #7c3aed !important;
      border-bottom: 1px solid var(--border-color) !important;
      z-index: 10 !important;
      position: relative !important;
    }
    .room-tab {
      flex: 1 !important;
      font-size: 14px !important;
      padding: 8px 14px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      color: #999 !important;
      font-weight: 700 !important;
      background: transparent !important;
      border: none !important;
      border-bottom: 2px solid transparent !important;
      cursor: pointer !important;
    }
    .room-tab.active {
      color: #fff !important;
      border-bottom-color: #7c3aed !important;
      background: rgba(124, 58, 237, 0.1) !important;
    }
    #chatMessages,
    #memberList {
      flex: 1 !important;
      overflow-y: auto !important;
      padding: 10px !important;
      min-height: 0 !important; /* Quan tr·ªçng: cho ph√©p co l·∫°i trong flex */
    }
    /* √î nh·∫≠p tin nh·∫Øn - C·ªê ƒê·ªäNH D∆Ø·ªõI M√ÄN H√åNH MOBILE */
    .chat-input-area {
      position: fixed !important;
      bottom: 0 !important;
      left: 0 !important;
      right: 0 !important;
      padding: 8px 10px !important;
      background: var(--bg-secondary) !important;
      border-top: 1px solid var(--border-color) !important;
      z-index: 9500 !important;
      display: flex !important;
      align-items: center !important;
      gap: 6px !important;
    }
    .room-tab-content {
      display: none !important;
      flex-direction: column !important;
      flex: 1 !important;
      overflow: hidden !important;
    }
    .room-tab-content.active {
      display: flex !important;
    }
  }

  /* ============================================================
   FIX L·ªñI XOAY NGANG (MOBILE LANDSCAPE) - UPDATE
   ============================================================ */
  @media (max-width: 1024px) and (orientation: landscape) {
    /* 0. CH·ªà X√ìA PADDING CHO WATCH PARTY (FULLSCREEN) */
    #partyRoom.page {
      padding-top: 0 !important;
      margin-top: 0 !important;
    }

    /* partyRoom ch·ªâ fixed full m√†n h√¨nh */
    #partyRoom {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      width: 100vw !important;
      height: 100vh !important;
      overflow: hidden !important;
      background: var(--bg-primary) !important;
      z-index: 9000 !important;
      padding: 0 !important;
      margin: 0 !important;
      display: block !important;
    }

    /* CONTAINER CH√çNH - GRID 75% VIDEO / 25% CHAT */
    .room-layout {
      display: grid !important;
      grid-template-columns: 75% 25% !important;
      width: 100% !important;
      height: 100% !important;
      gap: 0 !important;
      padding: 0 !important;
      overflow: hidden !important;
    }

    /* C·ªòT TR√ÅI: VIDEO */
    .room-main,
    .party-main {
      grid-column: 1 !important;
      grid-row: 1 !important;
      width: 100% !important;
      height: 100% !important;
      position: relative !important;
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      justify-content: center !important;
      overflow: hidden !important;
      background: var(--bg-primary) !important;
      max-height: 100vh !important;
      padding: 0 !important;
      margin: 0 !important;
      aspect-ratio: unset !important;
    }

    /* Video player - L·∫§P ƒê·∫¶Y KHUNG */
    #partyPlayer {
      width: 100% !important;
      height: 100% !important;
      max-height: 100vh !important;
      object-fit: contain !important;
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
    }

    /* C·ªòT PH·∫¢I: KHUNG CHAT 25% */
    .room-sidebar,
    .party-sidebar {
      grid-column: 2 !important;
      grid-row: 1 !important;
      width: 100% !important;
      height: 100% !important;
      max-height: 100vh !important;
      background: var(--bg-secondary) !important;
      border-left: 1px solid var(--border-color) !important;
      display: flex !important;
      flex-direction: column !important;
      z-index: 9100 !important;
      overflow: hidden !important;
      border-radius: 0 !important;
      min-height: unset !important;
      min-width: unset !important;
    }

    /* Header bar g·ªçn h∆°n */
    .room-header-bar {
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      width: 100% !important;
      height: 32px !important;
      min-height: 32px !important;
      background: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.95),
        rgba(0, 0, 0, 0.5)
      ) !important;
      padding: 2px 8px !important;
      justify-content: flex-start !important;
      align-items: center !important;
      gap: 6px !important;
      z-index: 9050 !important;
      pointer-events: none;
      flex-wrap: nowrap !important;
      margin: 0 !important;
    }
    .room-header-bar > * {
      pointer-events: auto !important;
      transform: scale(0.85);
    }
    .room-header-bar .btn {
      padding: 2px 8px !important;
      font-size: 10px !important;
    }
    #roomTitleDisplay {
      font-size: 11px !important;
      margin: 0 4px !important;
      white-space: nowrap !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      max-width: 100px !important;
      display: block !important;
    }
    .room-meta {
      display: flex !important;
      gap: 4px !important;
      align-items: center !important;
    }
    .room-meta .btn {
      padding: 2px 6px !important;
      font-size: 9px !important;
    }
    .live-badge {
      font-size: 8px !important;
      padding: 1px 4px !important;
    }

    /* Video container */
    .room-player-wrapper {
      width: 100% !important;
      height: 100% !important;
      min-height: unset !important;
      margin: 0 !important;
      padding: 0 !important;
      position: relative !important;
      top: 0 !important;
      left: 0 !important;
      border-radius: 0 !important;
    }

    /* Chat tabs - hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß */
    .room-tabs {
      height: 30px !important;
      flex-shrink: 0 !important;
      display: flex !important;
    }
    .room-tab {
      font-size: 11px !important;
      padding: 0 6px !important;
      display: flex !important;
      align-items: center !important;
    }
    #chatMessages {
      font-size: 11px !important;
      flex: 1 !important;
      overflow-y: auto !important;
      min-height: 0 !important;
    }

    /* Chat input - TRONG SIDEBAR, KH√îNG FIXED */
    .chat-input-area {
      position: static !important;
      padding: 8px !important;
      background: var(--bg-secondary) !important;
      border-top: 1px solid var(--border-color) !important;
      flex-shrink: 0 !important;
      display: flex !important;
      align-items: center !important;
      gap: 6px !important;
    }
    .chat-input-area input {
      flex: 1 !important;
      min-width: 0 !important;
      padding: 6px 10px !important;
      font-size: 12px !important;
    }
    .chat-input-area button {
      width: 30px !important;
      height: 30px !important;
      flex-shrink: 0 !important;
    }

    /* N√öT ƒêI·ªÄU KHI·ªÇN - TO H∆†N V√Ä V·ªä TR√ç H·ª¢P L√ù */
    #hostControls,
    .room-controls {
      position: absolute !important;
      bottom: 8px !important;
      left: 50% !important;
      transform: translateX(-50%) scale(0.85) !important;
      width: auto !important;
      min-width: 50% !important;
      max-width: 70% !important;
      background: rgba(0, 0, 0, 0.9) !important;
      border-radius: 25px !important;
      padding: 6px 16px !important;
      gap: 8px !important;
      display: flex !important;
      justify-content: center !important;
      align-items: center !important;
      white-space: nowrap !important;
      z-index: 9050 !important;
      margin: 0 !important;
    }

    /* N√∫t b·∫•m ƒëi·ªÅu khi·ªÉn - TO H∆†N */
    #hostControls button,
    .room-controls button {
      padding: 6px 14px !important;
      font-size: 12px !important;
      height: 32px !important;
      min-width: unset !important;
    }
  }


}

/* ============================================================
   ƒê√É G·ª† B·ªé: MOBILE LANDSCAPE - AUTO FULLSCREEN
   L√Ω do: Kh√¥ng cho ph√©p video t·ª± chi·∫øm to√†n m√†n h√¨nh khi xoay ngang.
   Ng∆∞·ªùi d√πng s·∫Ω t·ª± b·∫•m n√∫t Fullscreen n·∫øu mu·ªën.
   ============================================================ */

/* ============================================================
   ƒê√É G·ª† B·ªé: TABLET LANDSCAPE - AUTO FULLSCREEN
   L√Ω do: T∆∞∆°ng t·ª± mobile, kh√¥ng t·ª± b·∫≠t fullscreen khi xoay ngang.
   ============================================================ */


/* --- FINAL FIX: PADDING CHO TRANG PHIM L·∫∫ & PHIM B·ªò (Tr√°nh b·ªã Menu che) --- */

/* Desktop & Tablet (> 768px) */
#singleMoviesPage, 
#seriesMoviesPage {
  padding-top: 160px !important; /* Menu 100px + 60px kho·∫£ng c√°ch tho√°ng */
  min-height: 100vh;
}

/* Mobile (< 768px) */
@media (max-width: 768px) {
  #singleMoviesPage, 
  #seriesMoviesPage {
    padding-top: 110px !important; /* Menu 70px + 40px kho·∫£ng c√°ch */
  }
}

/* ============================================
   RESPONSIVE: TRANG DI·ªÑN VI√äN (ACTORS PAGE)
   ============================================ */

/* Tablet */
@media (max-width: 1024px) {
  .actors-grid {
    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)) !important;
    gap: 12px !important;
  }
  .actor-card-avatar {
    width: 90px !important;
    height: 90px !important;
  }
  .actor-detail-layout {
    padding: 15px 25px 30px !important;
  }
  .actor-detail-body {
    grid-template-columns: 220px 1fr !important;
    gap: 25px !important;
  }
  .actor-info-avatar {
    width: 150px !important;
    height: 150px !important;
  }
  .actor-info-sidebar {
    padding: 20px 15px !important;
  }
}

/* Mobile */
@media (max-width: 768px) {
  .actors-grid {
    grid-template-columns: repeat(auto-fill, minmax(95px, 1fr)) !important;
    gap: 10px !important;
  }
  .actor-card {
    padding: 10px 6px !important;
  }
  .actor-card-avatar {
    width: 75px !important;
    height: 75px !important;
  }
  .actor-card-name {
    font-size: 11px !important;
  }

  /* Chi ti·∫øt di·ªÖn vi√™n: X·∫øp d·ªçc */
  .actor-detail-layout {
    padding: 10px 15px 30px !important;
  }
  .actor-detail-body {
    grid-template-columns: 1fr !important;
    gap: 20px !important;
  }
  .actor-info-sidebar {
    position: static !important;
    text-align: center;
    padding: 20px 15px !important;
  }
  .actor-info-avatar {
    width: 120px !important;
    height: 120px !important;
    margin: 0 auto 10px !important;
  }
  .actor-info-actions {
    justify-content: center !important;
  }
  .actor-movies-grid,
  .timeline-movies-row {
    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)) !important;
    gap: 10px !important;
  }
  .actor-movies-header {
    flex-direction: column !important;
    gap: 10px !important;
    align-items: flex-start !important;
  }
  .timeline-year {
    font-size: 1.2rem !important;
  }
}